<!doctype html>
<html>

<head>
    <title>Debate Pairwise Comparison</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/css/bootstrap.min.css"
        integrity="sha384-VCmXjywReHh4PwowAiWNagnWcLhlEJLA5buUprzK8rxFgeH0kww/aWY76TfkUoSX" crossorigin="anonymous">
    <link rel="stylesheet" href="/debate-evaluation/assets/css/base.css">
    
</head>

<body>
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            
    <div class="container">
        <h1 class="text-center mb-4">Debate Output Comparison</h1>
        <hr class="my-4">

        <div class="mb-4">
            <p class="lead">You'll be comparing two different debate outputs side by side. Please evaluate both versions and provide ratings for each.</p>
        </div>

        <div class="mb-4">
            <h4>What to Expect:</h4>
            <ul class="list-group">
                <li class="list-group-item">Listen to a debate divided into Opening (4 min per side), Rebuttal (4 min per side), and Closing stages (2 min per side).</li>
                <li class="list-group-item">Share your initial opinion before listening.</li>
                <li class="list-group-item">Evaluate how each side performs during the debate.</li>
                <li class="list-group-item">Cast your final vote after listening.</li>
                <li class="list-group-item">The process will take about 1 hours and a $30 Amazon Gift Card will be sent as a gift for your participation.</li>
            </ul>
        </div>

        <div class="mb-4">
            <h4>How to Vote:</h4>
            <ul class="list-group">
                <li class="list-group-item"><strong>Support "For" Side</strong> - If you agree with the motion</li>
                <li class="list-group-item"><strong>Support "Against" Side</strong> - If you disagree with the motion</li>
                <li class="list-group-item"><strong>Choose "Tie"</strong> - If you do not have a preference</li>
            </ul>
        </div>

        <div class="mb-4">
            <h4>Rating Guide:</h4>
            <div class="card-group">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Poor (1)</h5>
                        <p class="card-text" style="font-size: 16px;">Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Weak (2)</h5>
                        <p class="card-text" style="font-size: 16px;">Reasonable statements with at least one noticeable weakness.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Moderate (3)</h5>
                        <p class="card-text" style="font-size: 16px;">Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Strong (4)</h5>
                        <p class="card-text" style="font-size: 16px;">Reasonable statements with at least one impressive shining point.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Compelling (5)</h5>
                        <p class="card-text" style="font-size: 16px;">Powerful evidence with effective counterpoints and deep audience connection.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

        </div>
    </div>

    


    <div class="container" id="form_container">
        <form id="theForm" action="https://script.google.com/macros/s/AKfycby4yVMejSjiW8bSUyODIY8lvW6Sf-UWqudpjHpQULUfFSqTvOsVIshdepIndj3vbOJq0w/exec" method="POST" onsubmit="return preventRepeatedSubmission() && checkAllRadioGroupsChecked() && confirmSubmission() && addTimestamp();;">
        <input type="hidden" name="timestamp" id="timestamp">
            <div class="form-group">
                <label for="name">Name / Prolific ID (for Prolific Participants) <sup>*</sup>  </label>
                <input class="form-control" type="text" inputmode="text" name="name" required>
            </div>
            <div class="form-group">
                <label for="mail">Email / Prolific Email (for Prolific Participants) <sup>*</sup> </label>
                <input class="form-control" type="text" inputmode="email" placeholder="account@example.com" name="mail" required>
            </div>
            <small class="form-text text-muted">* indicate required question</small>

            <br>
            <div id="motion" name="motion"><h4>Motion: Processed Foods Should Play A Larger Role In Sustainable Food Systems </h4></div>
            <br>
            
            
    <input type="hidden" id="mode" name="mode" value="mixed">
    <input type="hidden" id="version" name="version" value="0404">

    
        <div class="card form-group question" id="question_1">
            <div class="card-header"><b>Question 1: Pre-Vote Stage</b></div>
            <div class="card-body">
                

                <!-- Overall Comparison Question -->
                
                <div class="form-group">
                    <label for="q1" style="font-weight: bold; font-size: 1.1em;">
                        Please choose your attitude towards the given motion before the debate begins.<sup>*</sup>
                    </label>
                    <div class="row align-items-center">
                        <div class="col-10 offset-1">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q1_against_2" name="q1" value="-2">
                                <label class="form-check-label" for="q1_against">Highly Against</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q1_against_1" name="q1" value="-1">
                                <label class="form-check-label" for="q1_tie">Slightly Against</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q1_tie" name="q1" value="0">
                                <label class="form-check-label" for="q1_tie">Neutral</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q1_for_1" name="q1" value="1">
                                <label class="form-check-label" for="q1_tie">Slightly Support</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q1_for_2" name="q1" value="2">
                                <label class="form-check-label" for="q1_for">Highly Support</label>
                            </div>
                        </div>
                    </div>
                
                </div>
                
            
            </div>
            <div class="card-footer">
                <b>End of Pre-Vote Stage Comparison</b>
            </div>
        </div>
    
        <div class="card form-group question" id="question_2">
            <div class="card-header"><b>Question 2: Opening Stage</b></div>
            <div class="card-body">
                
                    <div class="side-container">
                    
                        <!-- Audio Player -->
                        <div class="row align-items-center mb-2 audio">
                            <div class="col-2 text-left audio-side">
                                <strong> For Side </strong> 
                            </div>
                            <div class="col-9">
                                <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0404/case1_1/opening_for_b.mp3" class="w-100" id="audio_1_For">
                                    Your browser does not support the audio element.
                                </audio>
                            </div>
                        </div>

                        <!-- Transcript -->
                        <details class="transcript-details mb-3">
                            <summary class="transcript-summary p-2 bg-light rounded">
                                <i class="fas fa-file-alt mr-2"></i>
                                (Optional) <strong> For </strong> - Transcript
                            </summary>
                            <div class="transcript-content p-3 bg-white border rounded mt-2">Good morning, everyone. We stand for the proposition that selectively processed foods should play a larger role in sustainable food systems. To ensure clarity, let's define our terms. By "processed foods," we are referring to foods that have undergone specific treatments altering their raw state to enhance preservation, safety, or convenience, and, crucially, with optimized nutrient profiles. It is important to emphasize that we are talking about *selectively* processed foods, and not minimally processed or ultra-processed options, which are not included in this discussion. By "sustainable food systems," we mean food production and distribution methods that minimize environmental impact, ensure food security, and promote equitable access to nutritious food.<br><br>Our criterion for judging this debate is straightforward: which side demonstrably promotes greater food security and environmental stewardship? We contend that *selectively* processed foods, when strategically integrated, are a powerful tool for achieving these goals.<br><br>First, *these specifically processed foods* with optimized nutrient profiles can directly address malnutrition, particularly in food deserts. Fortified processed foods offer a practical and readily available solution to deliver essential nutrients to underserved populations where access to fresh produce is limited by scarcity or affordability. The Better Health Channel  notes that the nutrient value of food is almost always altered by processing. Therefore, *selectively* processed foods can be optimized to deliver nutrients to vulnerable populations.<br><br>Second, *selectively* processed, shelf-stable foods significantly reduce food waste by extending product lifecycles. RethinkWaste  suggests that shelf-stable foods can help reduce food waste as they last longer. *Selectively* processed foods designed for extended shelf life minimize spoilage throughout the supply chain, from farm to table, contributing to substantial overall waste reduction.<br><br>Finally, precision fermentation, a key component of *selectively* processed food production, offers resource-efficient protein alternatives. Instead of relying on traditional animal agriculture, which demands vast amounts of land and water, precision fermentation allows us to "brew" proteins using microorganisms. Imagine brewing beer, but instead of alcohol, we're brewing protein. This process requires significantly less land and water, making it a far more sustainable option for meeting the growing global demand for protein. In fact, North America dominated the precision fermentation market with a revenue share of 40.52% in 2023, due to increasing consumer awareness and the growing demand for sustainable and eco-friendly products . According to The Hartman Group, around 40% of U.S. adults, over 90 million individuals, are projected to embrace products, with an estimated reach of 132 million consumers .<br><br>In conclusion, we firmly believe that *selectively* processed foods are not the antithesis of sustainable food systems. Instead, when intelligently produced and strategically deployed, they represent a crucial ally in our collective effort to feed the world more equitably and sustainably. We urge you to consider the potential of these technologies to address malnutrition, reduce waste, and create a more resource-efficient future for food. Thank you.<br><br>**Reference**<br>[1] Food processing and nutrition | Better Health Channel. Better Health Channel. <br>[2] 9 Ways to Reduce Your Food Waste – RethinkWaste. RethinkWaste.<br>[3] Precision Fermentation Market Size & Trends - Grand View Research. Grand View Research.</div>
                        </details>

                        <!-- Rating Section -->
                        <div class="form-group">
                            <label for="q2_1">
                                How persuasive are these arguments in supporting <strong>For</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                            </label>
                            <div class="row align-items-center">
                                <div class="col-10 offset-1">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="q2_1_poor" name="q2_1" value="1">
                                        <label class="form-check-label" for="q2_1_poor">
                                            <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="q2_1_weak" name="q2_1" value="2">
                                        <label class="form-check-label" for="q2_1_weak">
                                            <strong>Weak</strong>: Reasonable statements with at least one noticeable weakness. 
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="q2_1_moderate" name="q2_1" value="3">
                                        <label class="form-check-label" for="q2_1_moderate">
                                            <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="q2_1_strong" name="q2_1" value="4">
                                        <label class="form-check-label" for="q2_1_strong">
                                            <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="q2_1_compelling" name="q2_1" value="5">
                                        <label class="form-check-label" for="q2_1_compelling">
                                            <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Comment Section -->
                        <div class="form-group mt-3 mb-4">
                            <label for="q2_1_comment"> (Optional) Additional comments for <strong> For </strong> side:</label>
                            <textarea class="form-control" id="q2_1_comment" name="q2_1_comment" rows="2"></textarea>
                        </div>
                    
                    </div>

                   
                    
                       <div class="text-center">
                           <button id="nextSideButton" class="btn btn-primary btn-lg button-next-side" type="button">Next Side</button>
                       </div>
                    
                    <hr class="my-4">
                
                    <div class="side-container">
                    
                        <div class="row">
                            <!-- Left Side (Output A) -->
                            <div class="col-6 border-right">
                                <!-- Audio Player -->
                                
                                <h5 class="text-center mb-3">Output A - <strong>Against</strong> Side</h5>
                                    <div class="audio-section mb-4">
                                        <div class="audio-player mb-3">
                                            <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0404/case1_1/opening_against_a.mp3" class="w-100" id="audio_a_2_Against">
                                                Your browser does not support the audio element.
                                            </audio>
                                        </div>

                                        <!-- Transcript -->
                                        <details class="transcript-details mb-3">
                                            <summary class="transcript-summary p-2 bg-light rounded">
                                                <i class="fas fa-file-alt mr-2"></i>
                                                (Optional) <strong>Against</strong> - Transcript A
                                            </summary>
                                            <div class="transcript-content p-3 bg-white border rounded mt-2">In this debate, we shall argue that increasing the role of processed foods in sustainable food systems is detrimental to environmental and public health. We define processed foods as those altered from their natural state, often with added ingredients like salt, sugar, and fat, ranging from minimal to extensive processing . We define sustainable food systems as those providing food security and nutrition for current generations without compromising future generations, being environmentally sound, economically viable, and socially equitable .<br><br>Our judging criteria is **Environmental and Public Health Preservation**: The team that best demonstrates how their proposed food system minimizes environmental degradation and promotes public health should win this debate. This includes considering greenhouse gas emissions, resource depletion, biodiversity loss, and diet-related disease prevalence.<br><br>First, **processed foods contribute significantly to environmental degradation**. Processed food production relies on intensive agriculture, leading to deforestation, soil erosion, and water pollution.  The Soil Association reports that processed food production significantly harms the environment through land degradation, high greenhouse gas emissions, and increased food waste . This is exacerbated by deforestation for ingredients like palm oil . Furthermore, the Conversation notes that embracing sustainable agricultural practices that prioritize regenerative farming, waste reduction and local sourcing of ingredients can effectively lower the carbon impact of ultra-processed foods . Thus, prioritizing processed foods directly undermines environmental sustainability.<br><br>Second, **increased consumption of processed foods leads to adverse public health outcomes**. These foods are often high in sugar, salt, and unhealthy fats, contributing to obesity, cardiovascular disease, and type 2 diabetes.  The World Business Council for Sustainable Development states that increased consumption of processed foods is linked to higher risks of obesity, cardiovascular disease, and type 2 diabetes, especially ultra-processed foods . Promoting these foods exacerbates health problems and burdens healthcare systems.<br><br>Third, **sustainable alternatives offer healthier and more environmentally friendly options**. Focusing on local, fresh, and minimally processed foods supports sustainable agriculture, reduces transportation emissions, and provides more nutritious diets. Scholars Junction indicates that Sustainable food systems promote healthy alternatives to processed foods, emphasizing local, fresh produce to reduce environmental impact and support community health . Prioritizing regenerative farming practices and reducing food waste is essential for a truly sustainable system, something undermined by reliance on processed foods. Moreover, a global diet increasingly including ultra-processed foods is negatively impacting agricultural biodiversity and our health .<br><br>In conclusion, increasing the role of processed foods in sustainable food systems undermines environmental and public health goals. We urge you to oppose the motion.<br><br>**Reference**<br>(1) synthesizing multiple search results<br>(2) synthesizing multiple search results<br>(3) Soil Association. 2022. How bad is ultra-processed food for the planet? https://www.soilassociation.org/blogs/2022/august/24/how-bad-is-ultra-processed-food-for-the-planet/<br>(4) The Conversation. Ultra-processed foods are not only bad for our bodies, their production damages our environments. https://theconversation.com/ultra-processed-foods-are-not-only-bad-for-our-bodies-their-production-damages-our-environments-211815<br>(5) Scholars Junction. Sustainable food systems promote healthy alternatives to processed foods. https://scholarsjunction.msstate.edu/cgi/viewcontent.cgi?article=7093&context=td<br>(6) World Business Council for Sustainable Development. Processed food and its role in nutritious and sustainable diets. https://www.wbcsd.org/resources/processed-food-and-its-role-in-nutritious-and-sustainable-diets/<br>(7) AG Science. A global love for processed foods is hurting agricultural biodiversity and our health. https://agscience.org.nz/a-global-love-for-processed-foods-is-hurting-agricultural-biodiversity-and-our-health/
                                            </div>
                                        </details>

                                        <!-- Rating Section -->
                                        <div class="form-group">
                                        <label for="q2_2_a">
                                            How persuasive is <strong>Output A</strong> in supporting <strong>Against</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                                        </label>
                                        <div class="row align-items-center">
                                            <div class="col-10 offset-1">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_2_a_poor" name="q2_2_a" value="1">
                                                    <label class="form-check-label" for="q2_2_a_poor">
                                                        <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_2_a_weak" name="q2_2_a" value="2">
                                                    <label class="form-check-label" for="q2_2_a_weak">
                                                        <strong>Weak</strong>: Reasonable statements with at least one noticeable weakness. 
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_2_a_moderate" name="q2_2_a" value="3">
                                                    <label class="form-check-label" for="q2_2_a_moderate">
                                                        <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_2_a_strong" name="q2_2_a" value="4">
                                                    <label class="form-check-label" for="q2_2_a_strong">
                                                        <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_2_a_compelling" name="q2_2_a" value="5">
                                                    <label class="form-check-label" for="q2_2_a_compelling">
                                                        <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Comment Section -->
                                    <div class="form-group mt-3 mb-4">
                                        <label for="q2_2_comment_a"> (Optional) Additional comments for <strong> Output A's Against </strong> side:</label>
                                        <textarea class="form-control" id="q2_2_comment_a" name="q2_2_comment_a" rows="2"></textarea>
                                    </div>
                                    </div>
                                    
                                
                            </div>

                            <!-- Right Side (Output B) -->
                            <div class="col-6">
                                <!-- Audio Player -->
                                <h5 class="text-center mb-3">Output B - <strong>Against</strong> Side </h5>
                                    <div class="audio-section mb-4">
                                        <div class="audio-player mb-3">
                                            <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0404/case1_1/opening_against_b.mp3" class="w-100" id="audio_b_2_Against">
                                                Your browser does not support the audio element.
                                            </audio>
                                        </div>

                                        <!-- Transcript -->
                                        <details class="transcript-details mb-3">
                                            <summary class="transcript-summary p-2 bg-light rounded">
                                                <i class="fas fa-file-alt mr-2"></i>
                                                (Optional) <strong>Against</strong> Transcript B
                                            </summary>
                                            <div class="transcript-content p-3 bg-white border rounded mt-2">We stand firmly against the proposition that processed foods should play a larger role in sustainable food systems. The opposition presents a tempting vision of optimized nutrients and reduced waste, but this picture obscures a grim reality. Let's start by clarifying what we're truly discussing. The opposition defines "processed foods" as items undergoing specific treatments to enhance preservation, safety, and convenience, crucially emphasizing "optimized nutrient profiles." This definition conveniently overlooks the potential for nutrient degradation and the addition of harmful additives. Many processed foods are packed with excessive sugar, salt, and unhealthy fats, contributing to a higher risk of diabetes, high blood pressure, unfavorable blood lipids, and obesity . The opposition's selective definition is a dangerous oversimplification.<br><br>Similarly, their definition of "sustainable food systems" focuses narrowly on minimizing environmental impact, ensuring food security, and promoting equitable access. This ignores critical aspects such as nutritional quality, cultural relevance, and economic viability for all stakeholders. It's like praising a building solely for its energy efficiency while ignoring its structural integrity or the comfort of its inhabitants.<br><br>The opposition champions greater food security and environmental stewardship. However, this narrow focus neglects dietary diversity, cultural preservation, and the long-term health consequences of relying on processed foods. Pre-packaged, ready-to-eat products may lead to a decline in cooking skills and the loss of traditional culinary knowledge .<br><br>The opposition argues that processed foods can address malnutrition in food deserts. However, these foods often lack the full spectrum of nutrients found in whole, unprocessed options. Promoting processed foods normalizes unhealthy eating habits, perpetuating dependence rather than fostering genuine solutions to food insecurity.<br><br>They claim that shelf-stable foods reduce waste. But this encourages overconsumption and dependence on less nutritious options. The energy and resources required for processing and packaging often outweigh the benefits of waste reduction. The need to reduce the environmental impact of agriculture while ensuring sufficient production is a clear goal. Productivity increases has not improved efficiencies or reduced environmental impacts .<br><br>We argue that increasing reliance on processed foods erodes traditional diets and culinary knowledge. Focusing on processed options undermines the passing down of cultural food practices, leading to a loss of dietary diversity.<br><br>Furthermore, processed food production is resource-intensive. The high energy, water, and packaging demands contribute to environmental depletion and pollution. Local, state, and federal tax and zoning policies can also impact access to wholesome, minimally processed foods .<br><br>Finally, the processed food industry consolidation reduces market access for small farmers, harming rural economies. Large corporations dominate the sector, making it difficult for smaller farms to compete.<br><br>Let's not sacrifice our health, our environment, and our communities for the sake of convenience. Let's choose real food, support local farmers, and build a truly sustainable future.<br><br>**Reference**<br>[1] Corliss, Julie. "Putting Processed Foods into Perspective." *Harvard Health*, April 1, 2024.<br>[2] "Ultra-Processed Foods: Hidden Dangers in Today's Diets." *Flora IP*, October 28, 2023.<br>[3] "The multi-dimensional environmental impact of global crop commodities." *Nature*, [Date].<br>[4] Muller, Mark, Angie Tagtow, Susan L Roberts, and Erin MacDougall. "Aligning Food Systems Policies to Advance Public Health." *PMC*, December 11, 2009.
                                            </div>
                                        </details>

                                        <!-- Rating Section -->
                                        <div class="form-group">
                                        <label for="q2_2_b">
                                            How persuasive is <strong>Output B</strong> in supporting <strong>Against</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                                        </label>
                                        <div class="row align-items-center">
                                            <div class="col-10 offset-1">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_2_b_poor" name="q2_2_b" value="1">
                                                    <label class="form-check-label" for="q2_2_b_poor">
                                                        <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_2_b_weak" name="q2_2_b" value="2">
                                                    <label class="form-check-label" for="q2_2_b_weak">
                                                        <strong>Weak</strong>: Reasonable statements with at least one noticeable weaknesses. 
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_2_b_moderate" name="q2_2_b" value="3">
                                                    <label class="form-check-label" for="q2_2_b_moderate">
                                                        <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_2_b_strong" name="q2_2_b" value="4">
                                                    <label class="form-check-label" for="q2_2_b_strong">
                                                        <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_2_b_compelling" name="q2_2_b" value="5">
                                                    <label class="form-check-label" for="q2_2_b_compelling">
                                                        <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Comment Section -->
                                    <div class="form-group mt-3 mb-4">
                                        <label for="q2_2_comment_b"> (Optional) Additional comments for <strong> Output B's Against </strong> side:</label>
                                        <textarea class="form-control" id="q2_2_comment_b" name="q2_2_comment_b" rows="2"></textarea>
                                    </div>
                                    </div>
                                    
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group">
                                <label for="q2" style="font-weight: bold; font-size: 1.1em;" class="col-12 offset-4">
                                    Which output do you find more effective overall?<sup>*</sup>
                                </label>
                                <div class="row justify-content-center">
                                    <div class="col-12 offset-8">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="q2_2" value="-1" id="q2_2_slightly_a">
                                            <label class="form-check-label" for="q2_2_a"> Prefer Output A</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="q2_2" value="0" id="q2_2_equal">
                                            <label class="form-check-label" for="q2_2_equal">Both outputs are equally effective</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="q2_2" value="1" id="q2_2_slightly_b">
                                            <label class="form-check-label" for="q2_2_b">Prefer Output B</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    
                    </div>

                   
                    
                    <hr class="my-4">
                

                <!-- Overall Comparison Question -->
                
            
            </div>
            <div class="card-footer">
                <b>End of Opening Stage Comparison</b>
            </div>
        </div>
    

    <!-- Additional Questions -->
    
        <div class="card form-group question" id="question_3">
            <div class="card-header">
                <b>(Optional) Question 5: Which factors were most crucial in your assessment?</b>
            </div>
            <div class="card-body">
                
                    <div class="form-group">
                        <label for="q5"></label>
                        <textarea class="form-control" name="q5" rows="3"></textarea>
                    </div>
                
            </div>
            <div class="card-footer">
                <b>Additional Question 1 / 2</b>
            </div>
        </div>
    
        <div class="card form-group question" id="question_4">
            <div class="card-header">
                <b>(Optional) Question 6: How long did you spend on this evaluation?</b>
            </div>
            <div class="card-body">
                
                    <div class="form-group">
                        <label for="q6"></label>
                        <textarea class="form-control" name="q6" rows="3"></textarea>
                    </div>
                
            </div>
            <div class="card-footer">
                <b>Additional Question 2 / 2</b>
            </div>
        </div>
    

    <button id="previousPageButton" class="btn btn-secondary btn-lg" type="button">Previous Question</button>
    <button id="nextPageButton" class="btn btn-primary btn-lg" type="button">Next Question</button>

            <input type="text" name="formid" value="1_1(T1_n1)" hidden>
            <input type="text" name="thank" value="Thanks" hidden>
            <input class="btn btn-info btn-lg" type="submit" value="Submit Results" id="submitBtn">
            <p class="text-muted">
                <small>If you find that you can't submit the results, please check back to see if you have filled in your name and if you have answered every required question with <sup>*</sup>. Thank you.</small>
            </p>
        </form>
    </div>

    <div class="container" style="padding-top: 60px;">
        <p class="text-center text-muted">&copy; CMU Debate Team</p>
    </div>

    <!-- Replace the jQuery slim version with the full version -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" 
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" 
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/js/bootstrap.min.js" 
        integrity="sha384-XEerZL0cuoUbHE4nZReLT7nx9gQrQreJekYhJD9WNWhH8nEW+0c5qq7aIo2Wl30J" 
        crossorigin="anonymous"></script>

    <script type="text/javascript">
        window.addEventListener('beforeunload', function (e) {
            if (!document.getElementById('submitBtn').disabled) {
                // Cancel the event
                e.preventDefault();
                // Chrome requires returnValue to be set
                e.returnValue = '';
            }
        });

        function confirmSubmission() {
            return confirm('Are you sure you want to submit your results?');
        }

        function preventRepeatedSubmission() {
            document.getElementById('submitBtn').disabled = true;
            setTimeout("submitBtn.disabled=false;", 50);
            return true;
        };
        function addTimestamp() {
            // Get current timestamp in milliseconds
            const currentTimestamp = Date.now();
            const dateObject = new Date(currentTimestamp);
            const readableTimestamp = dateObject.toISOString().replace("T", " ").substring(0, 19);

            // Set the value of the hidden input field to the current timestamp
            document.getElementById("timestamp").value = readableTimestamp;
            return true;
        }
        function checkAllRadioGroupsChecked() {
            const radioGroups = document.querySelectorAll('.form-check-input[type="radio"]');
            const radioNames = new Set();
            radioGroups.forEach(input => radioNames.add(input.name));
            for (let name of radioNames) {
                const group = document.querySelectorAll(`input[name="${name}"]`);
                const isChecked = Array.from(group).some(input => input.checked);
                if (!isChecked) {
                    alert('Please ensure you have voted for all required questions by selecting an option in each group. You can use `Previous Question` to check your answers.');
                    return false;
                }
            }
            return true;
        }
    </script>

    
    <script>

        // Call this function when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            setupAudioSideNavigation();
        });

        let currentQuestionIndex = 0;
        const questions = document.querySelectorAll('.question');
        const nextPageButton = document.getElementById('nextPageButton');

        function showQuestion(index) {
            questions.forEach((question, i) => {
                question.style.display = i === index ? 'block' : 'none';
            });
        }

        const audios = document.querySelectorAll('audio');
        audios.forEach((function(audioElement) {
            audioElement.dataset.played = "false"; // Initial state

            audioElement.addEventListener('ended', function() {
                console.log('Audio has played:', this.src);
                this.dataset.played = "true"; // Mark as played
            });
        }));

        nextPageButton.addEventListener('click', function() {
            const currentQuestion = document.querySelector('.question[style*="display: block"]');
            
            let allValidAudio = true;
            let allValidQuestion = true;
            let invalidAudios = [];
            let invalidQuestions = [];

            // Check if all audios have been played
            const currentaudio = currentQuestion.querySelectorAll('audio');
            currentaudio.forEach(audioElement => {
                if (audioElement.dataset.played === "false") {
                    allValidAudio = false;
                    const audioLabel = audioElement.closest(".audio") ? 
                        audioElement.closest(".audio").querySelector('.audio-side').innerText :
                        audioElement.id;
                    invalidAudios.push(audioLabel + ' (Audio not played to the end)');
                }
            });

            // check all questions have been answered
            const radioGroups = currentQuestion.querySelectorAll('.form-check-input[type="radio"]');
            const radioNames = new Set();
            radioGroups.forEach(input => radioNames.add(input.name));
            radioNames.forEach(name => {
                const group = currentQuestion.querySelectorAll(`input[name="${name}"]`);
                const isChecked = Array.from(group).some(input => input.checked);
                if (!isChecked) {
                    allValidQuestion = false;
                    const questionLabel = group[0].closest('.form-group').querySelector('label').innerText;
                    invalidQuestions.push(questionLabel);
                }
            });
            

            if (!allValidAudio) {
                alert('Please listen to the following audio before voting (for both sides). \n => ' + invalidAudios.join('\n => '));
            } else if (!allValidQuestion) {
                alert('Please vote for the following questions (for both sides). You need to choose one most suitable option. \n => ' + invalidQuestions.join('\n => '));
            } else {
                if (currentQuestionIndex < questions.length - 1) {
                    currentQuestionIndex++;
                    showQuestion(currentQuestionIndex);
                    document.getElementById('form_container').scrollIntoView({ behavior: 'smooth' });
                } else {
                    alert('You have completed all questions. Remember to click "Submit Results" to upload the results. If success, it will show "Thanks" after submission.');
                }
            }
        });

        previousPageButton.addEventListener('click', function() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            } else {
                alert('This is the first question.');
            }
        });

        // Initialize the first question
        showQuestion(currentQuestionIndex);

        // Add a function to handle navigation between audio sides
        function setupAudioSideNavigation() {            
            // Add "Other Side" button after each question's navigation
            questions.forEach(question => {
                const audioContainers = question.querySelectorAll('.side-container');
                if (audioContainers.length > 1) {                
                    // Initially show only the first audio
                    audioContainers.forEach((container, index) => {
                        if (index === 0) {
                            container.style.display = 'block';
                        } else {
                            container.style.display = 'none';
                        }
                    });
                    
                    // Set up the click handler for the Other Side button
                    let currentAudioIndex = 0;
                    const otherSideBtn = question.querySelectorAll('.button-next-side');
                    otherSideBtn.forEach(button => {
                        button.addEventListener('click', function() {
                            currentAudioIndex = (currentAudioIndex + 1) % audioContainers.length;
                            
                            // Show the next audio
                            audioContainers[currentAudioIndex].style.display = 'block';
                            button.style.display = 'none';
                        });
                    });
                }
            });
        }

    </script>

</body>

</html>