<!doctype html>
<html>

<head>
    <title>Debate Pairwise Comparison</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/css/bootstrap.min.css"
        integrity="sha384-VCmXjywReHh4PwowAiWNagnWcLhlEJLA5buUprzK8rxFgeH0kww/aWY76TfkUoSX" crossorigin="anonymous">
    <link rel="stylesheet" href="/debate-evaluation/assets/css/base.css">
    
</head>

<body>
    <div class="jumbotron jumbotron-fluid bg-light">
        <div class="container">
            
<div class="container">
    <h1 class="text-center mb-4">Welcome to the Debate Evaluation!</h1>
    <hr class="my-4">

    <div class="mb-4">
        <p class="lead text-center">You'll be evaluating a debate where two sides discuss a topic. Your opinion matters - you'll vote how persuasive each side is in each stage. We will use your feedback to improve the debate quality.</p>
    </div>

    <div class="mb-5 card shadow">
        <div class="card-header bg-info text-white">
            <h4 class="mb-0">What to Expect:</h4>
        </div>
        <div class="card-body">
            <div class="row mb-3">
                <div class="col-md-4">
                    <div class="text-center mb-3">
                        <i class="fa fa-hourglass-start fa-3x text-primary"></i>
                        <h5 class="mt-2">Debate Structure</h5>
                    </div>
                    <p>The full debate includes:</p>
                    <ul>
                        <li><strong>Opening:</strong> 4 min audio per side</li>
                        <li><strong>Rebuttal:</strong> 4 min audio per side</li>
                        <li><strong>Closing:</strong> 2 min audio per side</li>
                    </ul>
                    <p>You'll evaluate a portion of this debate.</p>
                </div>
                <div class="col-md-4">
                    <div class="text-center mb-3">
                        <i class="fa fa-tasks fa-3x text-primary"></i>
                        <h5 class="mt-2">Your Evaluation Tasks</h5>
                    </div>
                    <p>For each stage, you'll:</p>
                    <ul>
                        <li>Rate the persuasiveness of each side's statements</li>
                        <li>Update your position after hearing each argument</li>
                        <li>Provide optional feedback</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <div class="text-center mb-3">
                        <i class="fa fa-random fa-3x text-primary"></i>
                        <h5 class="mt-2">Final Comparison</h5>
                    </div>
                    <p>In the final stage:</p>
                    <ul>
                        <li>You'll see <strong>two versions</strong> of each side's closing statement</li>
                        <li>Rate each version independently</li>
                        <li>Select which version you found more persuasive</li>
                    </ul>
                </div>
            </div>
            <div class="alert alert-success">
                <strong>Important:</strong> Before beginning, you'll vote for the side you initially support. After each stage, you'll have the opportunity to reconsider and update your position based on the arguments presented.
                <hr>
                <strong>Note:</strong> Throughout the evaluation, you'll encounter <strong>attention check questions</strong> to ensure data quality. Participants who demonstrate thoughtful engagement will receive compensation as agreed. If you're unable to commit to providing quality responses, you may exit the survey at any time without penalty.
                
            </div>
        </div>
    </div>

    <div class="mb-5 card shadow">
        <div class="card-header bg-info text-white">
            <h4 class="mb-0">Rating Guide for Persuasiveness:</h4>
        </div>
        <div class="card-body p-0">
            <div class="card-group">
                <div class="card border-0">
                    <div class="card-body text-center">
                        <div class="display-4 mb-2 text-danger">1</div>
                        <h5 class="card-title">Poor</h5>
                        <p class="card-text" style="font-size: 16px;">Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. </p>
                    </div>

                </div>
                <div class="card border-0">
                    <div class="card-body text-center">
                        <div class="display-4 mb-2 text-warning">2</div>
                        <h5 class="card-title">Weak</h5>
                        <p class="card-text" style="font-size: 16px;">Reasonable statements with at least one noticeable weakness. </p>
                    </div>

                </div>
                <div class="card border-0">
                    <div class="card-body text-center">
                        <div class="display-4 mb-2 text-info">3</div>
                        <h5 class="card-title">Moderate</h5>
                        <p class="card-text" style="font-size: 16px;">Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness</p>
                    </div>

                </div>
                <div class="card border-0">
                    <div class="card-body text-center">
                        <div class="display-4 mb-2 text-primary">4</div>
                        <h5 class="card-title">Strong</h5>
                        <p class="card-text" style="font-size: 16px;">Reasonable statements with at least one impressive shining points. </p>
                    </div>

                </div>
                <div class="card border-0">
                    <div class="card-body text-center">
                        <div class="display-4 mb-2 text-success">5</div>
                        <h5 class="card-title">Compelling</h5>
                        <p class="card-text" style="font-size: 16px;">Powerful evidence with effective counterpoints and create deep connection with audience.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

        </div>
    </div>

    




    <div class="container" id="form_container">
        <form id="theForm" action="https://script.google.com/macros/s/AKfycbx3soqlvyNqvJUWpqUQc8wN4Hl7k5cs57awyATUshnXV7pTj4ADUF40OjmiISRZx4dc2g/exec" method="POST" onsubmit="return preventRepeatedSubmission() && checkAllRadioGroupsChecked() && confirmSubmission() && addTimestamp();;">
        <input type="hidden" name="timestamp" id="timestamp">
            <div class="form-group">
                <label for="name">Name / Prolific ID (for Prolific Participants) <sup>*</sup>  </label>
                <input class="form-control" type="text" inputmode="text" name="name" required>
            </div>
            <div class="form-group">
                <label for="mail">Email / Prolific Email (for Prolific Participants) <sup>*</sup> </label>
                <input class="form-control" type="text" inputmode="email" placeholder="account@example.com" name="mail" required>
            </div>
            <small class="form-text text-muted">* indicate required question</small>

            <br>
            <div id="motion" name="motion"><h4>Motion: If Health Care Is A Scarce Resource, Government Should Step In To Ration Care, Deciding Whose Life Is Worth Saving </h4></div>
            <br>
            
            
    <input type="hidden" id="mode" name="mode" value="mixed">
    <input type="hidden" id="version" name="version" value="0510">
    <input type="hidden" id="redirect_url" name="redirect_url" value="">

    <!-- Success Message Modal -->
    <div class="modal fade" id="successModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="successModalLabel">Success!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    Your responses have been successfully submitted! Redirecting to the next questionnaire...
                </div>
            </div>
        </div>
    </div>

    <!-- Redirect Message Modal -->
    <div class="modal fade" id="redirectModal" tabindex="-1" role="dialog" aria-labelledby="redirectModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="redirectModalLabel">Redirecting...</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>You will be automatically redirected to the next questionnaire in <span id="countdown">5</span> seconds...</p>
                    <p>If you are not redirected automatically, <a href="#" id="manualRedirect">click here</a>.</p>
                </div>
            </div>
        </div>
    </div>

    
        <div class="card form-group question" id="question_1">
            <div class="card-header"><b>Question 1: Pre-Vote Stage</b></div>
            <div class="card-body">
                

                <!-- Sanity Check Questions -->
                <div id="sanity_check_questions" style="display: block;">
                    
                </div>

                <!-- Overall Comparison Question -->
                <div id="overall_comparison_question" style="display: block;">
                    <div class="form-group">
                        <label for="q1" style="font-weight: bold; font-size: 1.1em;">
                            Please choose your attitude towards the given motion before the debate begins.<sup>*</sup>
                        </label>
                        <div class="row align-items-center">
                            <div class="col-10 offset-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q1_against_2" name="q1" value="-2">
                                    <label class="form-check-label" for="q1_against">Highly Against</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q1_against_1" name="q1" value="-1">
                                    <label class="form-check-label" for="q1_tie">Slightly Against</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q1_tie" name="q1" value="0">
                                    <label class="form-check-label" for="q1_tie">Neutral</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q1_for_1" name="q1" value="1">
                                    <label class="form-check-label" for="q1_tie">Slightly Support</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q1_for_2" name="q1" value="2">
                                    <label class="form-check-label" for="q1_for">Highly Support</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            
            </div>
            <div class="card-footer">
                <b>End of Pre-Vote Stage Comparison</b>
            </div>
        </div>
    
        <div class="card form-group question" id="question_2">
            <div class="card-header"><b>Question 2: Opening Stage</b></div>
            <div class="card-body">
                
                    <div class="side-container">
                        
                            <!-- Audio Player -->
                            <div class="row align-items-center mb-2 audio">
                                <div class="col-2 text-left audio-side">
                                    <strong> For Side </strong> 
                                </div>
                                <div class="col-9">
                                    <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0510/case10_1/opening_for_b.mp3" class="w-100" id="audio_1_For">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>
                            </div>

                            <!-- Transcript -->
                            <details class="transcript-details mb-3">
                                <summary class="transcript-summary p-2 bg-light rounded">
                                    <i class="fas fa-file-alt mr-2"></i>
                                    (Optional) <strong> For </strong> - Transcript
                                </summary>
                                <div class="transcript-content p-3 bg-white border rounded mt-2">Imagine a hospital during a pandemic. Beds are full, ventilators are scarce, and doctors face an impossible choice: who gets treated first? This is the reality of healthcare scarcity. Today, we argue that when resources are limited, the government *must* step in to ration care—not to play God, but to save as many lives as possible, as fairly as possible.  <br><br>First, let’s define our terms. Rationing means allocating limited healthcare based on clear, objective criteria—like urgency, likelihood of survival, or medical need. Think of organ transplant lists: not everyone gets a liver, but the system ensures those who do are chosen fairly. Without rationing, chaos reigns. The wealthy jump the line, the system collapses, and more people die.  <br><br>Our judging standard is simple: **save the most lives while ensuring no group is unfairly left behind**. This isn’t about cold calculations; it’s about making heartbreaking choices with clarity and compassion.  <br><br>Now, to our key points.  <br><br>**First, rationing ensures fair distribution**. Without it, wealth decides who lives. Research from *PMC in 2017* shows that government rationing prevents wealthy monopolization by establishing equitable access for all, regardless of income. During COVID, the CDC found hospitals with clear triage protocols reduced mortality by 22%—that’s 22% fewer deaths than hospitals relying on ad-hoc decisions. Everyone had a shot, not just those with connections or cash.  <br><br>**Second, rationing keeps the system running**. Hospitals can’t treat infinite patients. Oregon’s Medicaid prioritization model, in place since 1994, demonstrates how rationing dialysis treatments fairly prevents systemic overload. By prioritizing the most critical cases—like trauma victims over elective surgeries—we prevent collapse. Imagine a traffic light: without rules, gridlock kills everyone. Rationing is that traffic light for healthcare.  <br><br>**Third, rationing removes bias**. Doctors are human. Under stress, they might favor the young over the elderly, or friends over strangers. According to *a 2021 study in Nature*, centralized systems like Sweden’s citizen health councils ensure transparency and objectivity by using data-driven algorithms. Sweden’s councils cut decision times by 30%—faster than private insurers—proving that bureaucracy doesn’t have to mean delays. Kidney transplants follow strict protocols—no room for favoritism.  <br><br>Critics say rationing is cruel. But the alternative—letting the system fail—is crueler. Rationing isn’t denying care; it’s how we fund 90% of pediatric cancer treatments instead of letting 1% buy experimental drugs. When Rwanda faced COVID vaccine shortages, they prioritized health workers *and* elders, saving 5,000 lives by ensuring equitable access. Rationing isn’t perfect, but it’s the best way to save lives *and* uphold justice.  <br><br>And let’s be clear: rationing criteria are audited by disability advocates—no one is deemed ‘less worthy.’ This isn’t about picking winners and losers; it’s about creating a system where life-saving isn’t auctioned to the highest bidder.  <br><br>In closing: scarcity forces hard choices. The question isn’t *if* we ration—it’s *who decides*. Should it be wallets, or wisdom? The government must make these decisions—not to decide who’s *worth* saving, but to ensure *as many as possible* are saved. Fairly. Efficiently. Humanely. Demand a system where every life has a fighting chance.  <br><br><br><br></div>
                            </details>

                            <!-- Rating Section -->
                            <div class="form-group">
                                <label for="q2_1">
                                    How persuasive are these arguments in supporting <strong>For</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                                </label>
                                <div class="row align-items-center">
                                    <div class="col-10 offset-1">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_1_poor" name="q2_1" value="1">
                                            <label class="form-check-label" for="q2_1_poor">
                                                <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_1_weak" name="q2_1" value="2">
                                            <label class="form-check-label" for="q2_1_weak">
                                                <strong>Weak</strong>: Reasonable statements with at least one noticeable weakness. 
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_1_moderate" name="q2_1" value="3">
                                            <label class="form-check-label" for="q2_1_moderate">
                                                <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_1_strong" name="q2_1" value="4">
                                            <label class="form-check-label" for="q2_1_strong">
                                                <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_1_compelling" name="q2_1" value="5">
                                            <label class="form-check-label" for="q2_1_compelling">
                                                <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Comment Section -->
                            <div class="form-group mt-3 mb-4">
                                <label for="q2_1_comment"> (Optional) Additional comments for <strong> For </strong> side:</label>
                                <textarea class="form-control" id="q2_1_comment" name="q2_1_comment" rows="2"></textarea>
                            </div>
                        
                    </div>

                    
                       <div class="text-center">
                           <button id="nextSideButton" class="btn btn-info btn-lg button-next-side" type="button">Proceed to next side →</button>
                       </div>
                    

                    <hr class="my-4">
                
                    <div class="side-container">
                        
                            <div class="row">
                                <!-- Left Side (Output A) -->
                                <div class="col-6 border-right">
                                    <!-- Audio Player -->
                                    
                                    <h5 class="text-center mb-3">Output A - <strong>Against</strong> Side</h5>
                                        <div class="audio-section mb-4">
                                            <div class="audio-player mb-3">
                                                <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0510/case10_1/opening_against_a.mp3" class="w-100" id="audio_a_2_Against">
                                                    Your browser does not support the audio element.
                                                </audio>
                                            </div>

                                            <!-- Transcript -->
                                            <details class="transcript-details mb-3">
                                                <summary class="transcript-summary p-2 bg-light rounded">
                                                    <i class="fas fa-file-alt mr-2"></i>
                                                    (Optional) <strong>Against</strong> - Transcript A
                                                </summary>
                                                <div class="transcript-content p-3 bg-white border rounded mt-2">In this debate, we shall argue that when healthcare is a scarce resource, the government should not step in to ration care or decide whose life is worth saving.  <br>Our judging criteria is whether government-led rationing is ethically justifiable and practically viable, prioritizing fairness, patient rights, and systemic effectiveness over centralized control.  <br><br>First, government rationing violates fundamental ethical principles. Centralized decisions about whose life is prioritized inherently discriminate against vulnerable groups, such as the elderly, disabled, or racial minorities. Studies show that age-based rationing disproportionately burdens older populations, while disability-based triage protocols during COVID-19 violated the Americans with Disabilities Act  . Ethical frameworks like the "Four Principles" approach  condemn such practices, as they undermine respect for persons and societal morale . When governments impose value judgments on lives, they erode trust in healthcare systems and perpetuate systemic inequities.  <br><br>Second, government rationing is inefficient and prone to failure. Centralized systems lack the flexibility to adapt to individual needs, often leading to wasted resources and unmet demand. For example, the UK’s National Health Service  faces chronic backlogs, with 7.6 million patients awaiting treatment as of 2023 . Similarly, U.S. Medicaid gaps leave low-income populations without consistent access to care . Research indicates that bureaucratic decision-making slows responses to scarcity, whereas decentralized systems  adjust more dynamically to local needs . Inefficiencies in government allocation prove it is ill-equipped to manage scarcity.  <br><br>Third, superior alternatives to government rationing exist. Market-based solutions, such as tiered pricing and private insurance, can allocate resources efficiently while preserving patient choice. For instance, Germany’s multi-payer system achieves universal coverage with shorter wait times than single-payer systems . Ethical frameworks like shared decision-making—where doctors and patients collaborate on care priorities—also offer a fairer approach. Studies of "prior consent" models  show they balance autonomy with resource constraints better than top-down rationing . These alternatives align with our standard’s emphasis on fairness and effectiveness without state overreach.  <br><br>In conclusion, government rationing of healthcare is ethically indefensible and practically flawed. It discriminates against vulnerable groups, fails to address scarcity efficiently, and is outperformed by market-based and patient-centered alternatives.<br><br>
                                                </div>
                                            </details>

                                            <!-- Rating Section -->
                                            <div class="form-group">
                                            <label for="q2_2_a">
                                                How persuasive is <strong>Output A</strong> in supporting <strong>Against</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                                            </label>
                                            <div class="row align-items-center">
                                                <div class="col-10 offset-1">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q2_2_a_poor" name="q2_2_a" value="1">
                                                        <label class="form-check-label" for="q2_2_a_poor">
                                                            <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q2_2_a_weak" name="q2_2_a" value="2">
                                                        <label class="form-check-label" for="q2_2_a_weak">
                                                            <strong>Weak</strong>: Reasonable statements with at least one noticeable weakness. 
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q2_2_a_moderate" name="q2_2_a" value="3">
                                                        <label class="form-check-label" for="q2_2_a_moderate">
                                                            <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q2_2_a_strong" name="q2_2_a" value="4">
                                                        <label class="form-check-label" for="q2_2_a_strong">
                                                            <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q2_2_a_compelling" name="q2_2_a" value="5">
                                                        <label class="form-check-label" for="q2_2_a_compelling">
                                                            <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Comment Section -->
                                        <div class="form-group mt-3 mb-4">
                                            <label for="q2_2_comment_a"> (Optional) Additional comments for <strong> Output A's Against </strong> side:</label>
                                            <textarea class="form-control" id="q2_2_comment_a" name="q2_2_comment_a" rows="2"></textarea>
                                        </div>
                                        </div>
                                        
                                    
                                </div>

                                <!-- Right Side (Output B) -->
                                <div class="col-6">
                                    <!-- Audio Player -->
                                    <h5 class="text-center mb-3">Output B - <strong>Against</strong> Side </h5>
                                        <div class="audio-section mb-4">
                                            <div class="audio-player mb-3">
                                                <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0510/case10_1/opening_against_b.mp3" class="w-100" id="audio_b_2_Against">
                                                    Your browser does not support the audio element.
                                                </audio>
                                            </div>

                                            <!-- Transcript -->
                                            <details class="transcript-details mb-3">
                                                <summary class="transcript-summary p-2 bg-light rounded">
                                                    <i class="fas fa-file-alt mr-2"></i>
                                                    (Optional) <strong>Against</strong> Transcript B
                                                </summary>
                                                <div class="transcript-content p-3 bg-white border rounded mt-2">Imagine a knock at your door. A government official hands you a form: *Check one box—which of your children gets healthcare this year?* This isn’t dystopia; it’s the reality of healthcare rationing. Today, we oppose government deciding who lives or dies, not because we ignore scarcity, but because we value *justice* and *freedom* more.  <br><br>First, **rationing violates our most basic rights**. Your life isn’t the government’s to weigh like produce on a scale. The *WHO Constitution* declares health a human right—not a privilege granted by committee. According to the *Markkula Center for Applied Ethics in 2024*, age-based rationing unequivocally violates the fundamental dignity of persons, treating the elderly as mere economic burdens . When bureaucrats ration dialysis or ventilators, they’re playing God with lives they’ll never meet. Autonomy matters. Would you trust a stranger to choose which of your family members gets treated? Rationing forces that nightmare onto millions.  <br><br>Second, **rationing deepens inequality**. The opponent claims it ensures fairness, but history proves otherwise. During COVID, celebrities jumped vaccine lines while nurses waited. In the UK’s NHS, wealthier patients “game” waitlists by exaggerating symptoms. Research from *PMC in 2017* shows that rationing in tax-based systems disproportionately favors those with political or financial leverage, creating hidden inequalities . A *Harvard Public Health Review study in 2020* found that under rationing, the wealthy still access 30% more care through loopholes . When survival depends on paperwork, the rich hire lawyers; the poor get buried.  <br><br>But inequality isn’t the only flaw—rationing also fails because governments lack medical expertise. Third, **governments are terrible at playing doctor**. Medical decisions require expertise, not politics. Would you let a traffic cop perform your heart surgery? Yet rationing puts politicians in charge of triage. In Canada, patients die waiting for bureaucrat-approved MRIs. In Oregon’s Medicaid system, dialysis delays spiked *after* rationing rules tightened. A *2023 Nursing Ethics survey* found that 78% of nurses opposed rationing due to ethical conflicts . Algorithms can’t replace doctors’ judgment—ask any nurse forced to deny painkillers because a spreadsheet labeled them “low priority.”  <br><br>The opponent cites Sweden’s councils as “fair,” but even their algorithms favor urban patients over rural ones. Sweden’s ‘fair’ councils still let urban patients access specialists 50% faster—proof geography trumps need. Centralized systems don’t remove bias—they codify it. And when mistakes happen , who’s accountable? No politician will apologize for the cancer patient denied treatment because a checkbox was missed.  <br><br>If rationing fails ethically and practically, what works? History shows **expanding capacity, not rationing scarcity**, is the answer. During WWII, the U.S. didn’t ration blood—they *invented blood banks*, increasing supply by 300% in 2 years. Cuba’s doctor-training program cut wait times by 40%. Germany builds reserve hospitals. Expanding capacity requires investing in medical training and infrastructure, funded by reallocating wasteful spending—*not* denying care. True fairness means fixing the system, not sentencing the sick to bureaucratic hunger games.  <br><br>Rationing sounds logical until it’s *your* child denied insulin. Healthcare scarcity is real, but the answer isn’t letting politicians decide who’s “worth” saving. Demand the *Healthcare Expansion Act*—a bill to fund 100,000 new medical trainees annually. Reject rationing. Choose humanity.<br><br>
                                                </div>
                                            </details>

                                            <!-- Rating Section -->
                                            <div class="form-group">
                                            <label for="q2_2_b">
                                                How persuasive is <strong>Output B</strong> in supporting <strong>Against</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                                            </label>
                                            <div class="row align-items-center">
                                                <div class="col-10 offset-1">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q2_2_b_poor" name="q2_2_b" value="1">
                                                        <label class="form-check-label" for="q2_2_b_poor">
                                                            <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q2_2_b_weak" name="q2_2_b" value="2">
                                                        <label class="form-check-label" for="q2_2_b_weak">
                                                            <strong>Weak</strong>: Reasonable statements with at least one noticeable weaknesses. 
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q2_2_b_moderate" name="q2_2_b" value="3">
                                                        <label class="form-check-label" for="q2_2_b_moderate">
                                                            <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q2_2_b_strong" name="q2_2_b" value="4">
                                                        <label class="form-check-label" for="q2_2_b_strong">
                                                            <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q2_2_b_compelling" name="q2_2_b" value="5">
                                                        <label class="form-check-label" for="q2_2_b_compelling">
                                                            <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Comment Section -->
                                        <div class="form-group mt-3 mb-4">
                                            <label for="q2_2_comment_b"> (Optional) Additional comments for <strong> Output B's Against </strong> side:</label>
                                            <textarea class="form-control" id="q2_2_comment_b" name="q2_2_comment_b" rows="2"></textarea>
                                        </div>
                                        </div>
                                        
                                </div>
                            </div>

                            <div class="row">
                                <div class="form-group">
                                    <label for="q2" style="font-weight: bold; font-size: 1.1em;" class="col-12 offset-4">
                                        Which output do you find more effective overall?<sup>*</sup>
                                    </label>
                                    <div class="row justify-content-center">
                                        <div class="col-12 offset-8">
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="q2_2" value="-1" id="q2_2_slightly_a">
                                                <label class="form-check-label" for="q2_2_a"> Prefer Output A</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="q2_2" value="0" id="q2_2_equal">
                                                <label class="form-check-label" for="q2_2_equal">Both outputs are equally effective</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="q2_2" value="1" id="q2_2_slightly_b">
                                                <label class="form-check-label" for="q2_2_b">Prefer Output B</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        
                    </div>

                    

                    <hr class="my-4">
                

                <!-- Sanity Check Questions -->
                <div id="sanity_check_questions" style="display: block;">
                    
                        
                        
                            <div class="form-group mt-3 mb-4">
                                <label for="q2_sanity">Which claim is proposed by <strong>Output B's</strong> <strong>Against</strong> side as its <strong>first</strong> main claim during the opening statement? If multiple options apply, please choose the best one. <sup>*</sup></label>
                                <div class="row align-items-center">
                                    <div class="col-10 offset-1">
                                        
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" 
                                                    id="q2_sanity_option_0"
                                                    name="q2_sanity"
                                                    value="0">
                                                <label class="form-check-label" for="q2_sanity_option_0">
                                                    Government rationing of healthcare violates individual rights to life and autonomy.
                                                </label>
                                            </div>
                                        
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" 
                                                    id="q2_sanity_option_1"
                                                    name="q2_sanity"
                                                    value="1">
                                                <label class="form-check-label" for="q2_sanity_option_1">
                                                    It encourages innovation by setting clear needs and priorities for medical research.
                                                </label>
                                            </div>
                                        
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" 
                                                    id="q2_sanity_option_2"
                                                    name="q2_sanity"
                                                    value="2">
                                                <label class="form-check-label" for="q2_sanity_option_2">
                                                    Effective Altruism's metrics-driven approach overlooks crucial local contexts that determine real impact
                                                </label>
                                            </div>
                                        
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" 
                                                    id="q2_sanity_option_3"
                                                    name="q2_sanity"
                                                    value="3">
                                                <label class="form-check-label" for="q2_sanity_option_3">
                                                    The free market is better at allocating scarce healthcare resources than government rationing.
                                                </label>
                                            </div>
                                        
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" 
                                                    id="q2_sanity_option_4"
                                                    name="q2_sanity"
                                                    value="4">
                                                <label class="form-check-label" for="q2_sanity_option_4">
                                                    None of the above
                                                </label>
                                            </div>
                                        
                                    </div>
                                </div>
                            </div>
                            <input type="hidden" id="q2_sanity_answer" name="q2_sanity_answer" value="0">
                        
                    
                </div>

                <!-- Overall Comparison Question -->
                <div id="overall_comparison_question" style="display: block;">
                    <div class="form-group">
                        <label for="q2" style="font-weight: bold; font-size: 1.1em;">
                            After listening to the two statements in Opening stage, please choose your attitude towards the given motion (If Health Care Is A Scarce Resource, Government Should Step In To Ration Care, Deciding Whose Life Is Worth Saving) now<sup>*</sup>
                        </label>
                        <div class="row align-items-center">
                            <div class="col-10 offset-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q2_against_2" name="q2" value="-2">
                                    <label class="form-check-label" for="q2_against">Highly Against</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q2_against_1" name="q2" value="-1">
                                    <label class="form-check-label" for="q2_tie">Slightly Against</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q2_tie" name="q2" value="0">
                                    <label class="form-check-label" for="q2_tie">Neutral</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q2_for_1" name="q2" value="1">
                                    <label class="form-check-label" for="q2_tie">Slightly Support</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q2_for_2" name="q2" value="2">
                                    <label class="form-check-label" for="q2_for">Highly Support</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            
            </div>
            <div class="card-footer">
                <b>End of Opening Stage Comparison</b>
            </div>
        </div>
    

    <!-- Additional Questions -->
    
        <div class="card form-group question" id="question_3">
            <div class="card-header">
                <b>(Optional) Question 5: Which factors were most crucial in your assessment?</b>
            </div>
            <div class="card-body">
                
                    <div class="form-group">
                        <label for="q5"></label>
                        <textarea class="form-control" name="q5" rows="3"></textarea>
                    </div>
                
            </div>
            <div class="card-footer">
                <b>Additional Question 1 / 2</b>
            </div>
        </div>
    
        <div class="card form-group question" id="question_4">
            <div class="card-header">
                <b>(Optional) Question 6: How long did you spend on this whole evaluation process (including reading the motion, listening to the debate, and answering the questions)?</b>
            </div>
            <div class="card-body">
                
                    <div class="form-group">
                        <label for="q6"></label>
                        <textarea class="form-control" name="q6" rows="3"></textarea>
                    </div>
                
            </div>
            <div class="card-footer">
                <b>Additional Question 2 / 2</b>
            </div>
        </div>
    

            <input type="text" name="formid" value="10_1(T1_n1)" hidden>
            <input type="text" name="thank" value="Thanks. If you are a Prolific participant, your code is CMF26Y29" hidden>
            <div class="button-row" style="display: flex; justify-content: space-between; align-items: center; margin: 20px 0;">
                <div class="navigation-buttons">
                    
    <button id="previousPageButton" class="btn btn-info btn-lg" type="button">← Go Back</button>
    <button id="nextPageButton" class="btn btn-info btn-lg" type="button">Continue →</button>

                </div>
                <div id="submitButtonContainer" style="display: none;">
                    <input class="btn btn-info btn-lg" type="submit" value="Submit this✓" id="submitBtn">
                </div>
            </div>
            <p class="text-muted">
                <small>If you find that you can't submit the results, please check back to see if you have filled in your name and if you have answered every required question with <sup>*</sup>. Thank you.</small>
            </p>
        </form>
    </div>

    <div class="container" style="padding-top: 60px;">
        <p class="text-center text-muted">&copy; CMU Debate Team</p>
    </div>

    <!-- Replace the jQuery slim version with the full version -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" 
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" 
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/js/bootstrap.min.js" 
        integrity="sha384-XEerZL0cuoUbHE4nZReLT7nx9gQrQreJekYhJD9WNWhH8nEW+0c5qq7aIo2Wl30J" 
        crossorigin="anonymous"></script>

    <script type="text/javascript">
        // Define the beforeunload handler as a named function so it can be removed
        function handleBeforeUnload(e) {
            if (!document.getElementById('submitBtn').disabled) {
                // Cancel the event
                e.preventDefault();
                // Chrome requires returnValue to be set
                e.returnValue = '';
            }
        }

        // Add the beforeunload event listener
        window.addEventListener('beforeunload', handleBeforeUnload);

        // Function to disable the beforeunload warning
        function disableBeforeUnload() {
            window.removeEventListener('beforeunload', handleBeforeUnload);
        }

        function confirmSubmission() {
            return confirm('Are you sure you want to submit your results?');
        }

        function preventRepeatedSubmission() {
            document.getElementById('submitBtn').disabled = true;
            setTimeout("submitBtn.disabled=false;", 50);
            return true;
        };
        function addTimestamp() {
            // Get current timestamp in milliseconds
            const currentTimestamp = Date.now();
            const dateObject = new Date(currentTimestamp);
            const readableTimestamp = dateObject.toISOString().replace("T", " ").substring(0, 19);

            // Set the value of the hidden input field to the current timestamp
            document.getElementById("timestamp").value = readableTimestamp;
            return true;
        }
        function checkAllRadioGroupsChecked() {
            const radioGroups = document.querySelectorAll('.form-check-input[type="radio"]');
            const radioNames = new Set();
            radioGroups.forEach(input => radioNames.add(input.name));
            for (let name of radioNames) {
                const group = document.querySelectorAll(`input[name="${name}"]`);
                const isChecked = Array.from(group).some(input => input.checked);
                if (!isChecked) {
                    alert('Please ensure you have voted for all required questions by selecting an option in each group. You can use `Previous Question` to check your answers.');
                    return false;
                }
            }
            return true;
        }
    </script>

    
    
    <script>
    // Function to handle consent acceptance
    function acceptConsent() {
        const checkboxes = document.querySelectorAll('#consentModal input[type="checkbox"]');
        let allChecked = true;

        checkboxes.forEach(checkbox => {
            if (!checkbox.checked) {
                allChecked = false;
            }
        });

        if (allChecked) {
            $('#consentModal').modal('hide');
            // Additional logic for acceptance can be added here
        } else {
            alert('Please ensure all checkboxes are marked before proceeding.');
        }
    }

    // Function to handle consent rejection
    function rejectConsent() {
        if (!confirm('You must accept the consent form to proceed. Click "OK" to stay on this page or "Cancel" to be redirected.')) {
            window.location.href = '/debate-evaluation/thanks'; // Redirect to the "/thanks" page under the baseurl
        }
    }

    // Show the consent modal on page load
    $(document).ready(function() {
        $('#consentModal').modal({
            backdrop: 'static',
            keyboard: false
        });
        $('#consentModal').modal('show');
    });


</script>

    <script>
        // Call this function when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            setupAudioSideNavigation();
            
            // Add form submission handler
            document.getElementById('theForm').addEventListener('submit', function(e) {
                const redirectUrl = document.getElementById('redirect_url').value;
                if (redirectUrl) {
                    // Show loading indicator
                    const submitBtn = document.getElementById('submitBtn');
                    submitBtn.disabled = true;
                    submitBtn.value = 'Submitting...';
                    
                    // Submit the form first
                    const form = this;
                    const formData = new FormData(form);
                    
                    // Prevent the default form submission
                    e.preventDefault();
                    
                    fetch(form.action, {
                        method: 'POST',
                        body: formData
                    })
                    .then(response => {
                        if (response.ok) {
                            // Show success modal
                            $('#successModal').modal('show');
                            
                            // Disable the beforeunload warning
                            disableBeforeUnload();
                            
                            // Show redirect modal after a short delay
                            setTimeout(() => {
                                $('#successModal').modal('hide');
                                $('#redirectModal').modal('show');
                                
                                // Set up manual redirect link
                                document.getElementById('manualRedirect').href = redirectUrl;
                                
                                // Start countdown
                                let countdown = 5;
                                const countdownInterval = setInterval(() => {
                                    countdown--;
                                    document.getElementById('countdown').textContent = countdown;
                                    if (countdown <= 0) {
                                        clearInterval(countdownInterval);
                                        $('#redirectModal').modal('hide');
                                        window.location.href = redirectUrl;
                                    }
                                }, 1000);
                            }, 2000);
                        } else {
                            // If submission failed, show error
                            alert('Form submission failed. Please try again.');
                            submitBtn.disabled = false;
                            submitBtn.value = 'Submit All✓';
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('An error occurred while submitting the form. Please try again.');
                        submitBtn.disabled = false;
                        submitBtn.value = 'Submit All✓';
                    });
                }
            });
        });

        let currentQuestionIndex = 0;
        const questions = document.querySelectorAll('.question');
        const nextPageButton = document.getElementById('nextPageButton');

        function showQuestion(index) {
            questions.forEach((question, i) => {
                question.style.display = i <= index ? 'block' : 'none';
            });
            
            // Show submit button only when all questions are shown
            const submitButtonContainer = document.getElementById('submitButtonContainer');
            if (index === questions.length - 1) {
                submitButtonContainer.style.display = 'block';
            } else {
                submitButtonContainer.style.display = 'none';
            }
        }

        const audios = document.querySelectorAll('audio');
        audios.forEach((function(audioElement) {
            audioElement.dataset.played = "false"; // Initial state

            audioElement.addEventListener('ended', function() {
                console.log('Audio has played:', this.src);
                this.dataset.played = "true"; // Mark as played
            });
        }));

        nextPageButton.addEventListener('click', function() {
            // Get all currently visible questions
            const currentQuestions = document.querySelectorAll('.question[style*="display: block"]');
            
            let allValidAudio = true;
            let allValidQuestion = true;
            let invalidAudios = [];
            let invalidQuestions = [];

            // Check each visible question
            currentQuestions.forEach(currentQuestion => {
                // Check if all audios have been played
                const currentaudio = currentQuestion.querySelectorAll('audio');
                currentaudio.forEach(audioElement => {
                    if (audioElement.dataset.played === "false") {
                        allValidAudio = false;
                        const audioLabel = audioElement.closest(".audio") ? 
                            audioElement.closest(".audio").querySelector('.audio-side').innerText :
                            audioElement.id;
                        invalidAudios.push(audioLabel + ' (Audio not played to the end)');
                    }
                });

                // check all questions have been answered
                const radioGroups = currentQuestion.querySelectorAll('.form-check-input[type="radio"]');
                const radioNames = new Set();
                radioGroups.forEach(input => radioNames.add(input.name));
                radioNames.forEach(name => {
                    const group = currentQuestion.querySelectorAll(`input[name="${name}"]`);
                    const isChecked = Array.from(group).some(input => input.checked);
                    if (!isChecked) {
                        allValidQuestion = false;
                        const questionLabel = group[0].closest('.form-group').querySelector('label').innerText;
                        invalidQuestions.push(questionLabel);
                    }
                });
            });
            

            if (!allValidAudio) {
                alert('Please listen to the following audio before voting (for both sides). \n => ' + invalidAudios.join('\n => '));
            } else if (!allValidQuestion) {
                alert('Please vote for the following questions (for both sides). You need to choose one most suitable option. \n => ' + invalidQuestions.join('\n => '));
            } else {
                if (currentQuestionIndex < questions.length - 1) {
                    currentQuestionIndex++;
                    showQuestion(currentQuestionIndex);
                    /* document.getElementById('form_container').scrollIntoView({ behavior: 'smooth' }); */
                } else {
                    alert('You have completed all questions. Remember to click "Submit Results" to upload the results. If success, it will show "Thanks" after submission.');
                }
            }
        });

        previousPageButton.addEventListener('click', function() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            } else {
                alert('This is the first question.');
            }
        });

        // Initialize the first question
        showQuestion(currentQuestionIndex);

        // Add a function to handle navigation between audio sides
        function setupAudioSideNavigation() {            
            // Add "Other Side" button after each question's navigation
            questions.forEach(question => {
                const audioContainers = question.querySelectorAll('.side-container');
                if (audioContainers.length > 1) {                
                    // Initially show only the first audio
                    audioContainers.forEach((container, index) => {
                        if (index === 0) {
                            container.style.display = 'block';
                        } else {
                            container.style.display = 'none';
                        }
                    });
                    
                    // Set up the click handler for the Other Side button
                    let currentAudioIndex = 0;
                    const otherSideBtn = question.querySelectorAll('.button-next-side');
                    const sanityCheckDiv = question.querySelector('#sanity_check_questions');
                    const overallComparisonDiv = question.querySelector('#overall_comparison_question');
                    otherSideBtn.forEach(button => {
                        button.addEventListener('click', function() {
                            currentAudioIndex = (currentAudioIndex + 1) % audioContainers.length;
                            
                            // Show the next audio
                            audioContainers[currentAudioIndex].style.display = 'block';
                            button.style.display = 'none';

                            // Show the sanity check questions
                            sanityCheckDiv.style.display = 'block';

                            // Show the overall comparison question
                            // overallComparisonDiv.style.display = 'block';


                        });
                    });
                }
            });
        }

    </script>

</body>

</html>