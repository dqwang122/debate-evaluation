<!doctype html>
<html>

<head>
    <title>Debate Pairwise Comparison</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/css/bootstrap.min.css"
        integrity="sha384-VCmXjywReHh4PwowAiWNagnWcLhlEJLA5buUprzK8rxFgeH0kww/aWY76TfkUoSX" crossorigin="anonymous">
    <link rel="stylesheet" href="/debate-evaluation/assets/css/base.css">
    
</head>

<body>
    <div class="jumbotron jumbotron-fluid bg-light">
        <div class="container">
            
<div class="container">
    <h1 class="text-center mb-4">Welcome to the Debate Evaluation!</h1>
    <hr class="my-4">

    <div class="mb-4">
        <p class="lead text-center">You'll be evaluating a debate where two sides discuss a topic. Your opinion matters - you'll vote how persuasive each side is in each stage. We will use your feedback to improve the debate quality.</p>
    </div>

    <div class="mb-5 card shadow">
        <div class="card-header bg-info text-white">
            <h4 class="mb-0">What to Expect:</h4>
        </div>
        <div class="card-body">
            <div class="row mb-3">
                <div class="col-md-4">
                    <div class="text-center mb-3">
                        <i class="fa fa-hourglass-start fa-3x text-primary"></i>
                        <h5 class="mt-2">Debate Structure</h5>
                    </div>
                    <p>The full debate includes:</p>
                    <ul>
                        <li><strong>Opening:</strong> 4 min audio per side</li>
                        <li><strong>Rebuttal:</strong> 4 min audio per side</li>
                        <li><strong>Closing:</strong> 2 min audio per side</li>
                    </ul>
                    <p>You'll evaluate a portion of this debate.</p>
                </div>
                <div class="col-md-4">
                    <div class="text-center mb-3">
                        <i class="fa fa-tasks fa-3x text-primary"></i>
                        <h5 class="mt-2">Your Evaluation Tasks</h5>
                    </div>
                    <p>For each stage, you'll:</p>
                    <ul>
                        <li>Rate the persuasiveness of each side's statements</li>
                        <li>Update your position after hearing each argument</li>
                        <li>Provide optional feedback</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <div class="text-center mb-3">
                        <i class="fa fa-random fa-3x text-primary"></i>
                        <h5 class="mt-2">Final Comparison</h5>
                    </div>
                    <p>In the final stage:</p>
                    <ul>
                        <li>You'll see <strong>two versions</strong> of each side's closing statement</li>
                        <li>Rate each version independently</li>
                        <li>Select which version you found more persuasive</li>
                    </ul>
                </div>
            </div>
            <div class="alert alert-success">
                <strong>Important:</strong> Before beginning, you'll vote for the side you initially support. After each stage, you'll have the opportunity to reconsider and update your position based on the arguments presented.
                <hr>
                <strong>Note:</strong> Throughout the evaluation, you'll encounter <strong>attention check questions</strong> to ensure data quality. Participants who demonstrate thoughtful engagement will receive compensation as agreed. If you're unable to commit to providing quality responses, you may exit the survey at any time without penalty.
                
            </div>
        </div>
    </div>

    <div class="mb-5 card shadow">
        <div class="card-header bg-info text-white">
            <h4 class="mb-0">Rating Guide for Persuasiveness:</h4>
        </div>
        <div class="card-body p-0">
            <div class="card-group">
                <div class="card border-0">
                    <div class="card-body text-center">
                        <div class="display-4 mb-2 text-danger">1</div>
                        <h5 class="card-title">Poor</h5>
                        <p class="card-text" style="font-size: 16px;">Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. </p>
                    </div>

                </div>
                <div class="card border-0">
                    <div class="card-body text-center">
                        <div class="display-4 mb-2 text-warning">2</div>
                        <h5 class="card-title">Weak</h5>
                        <p class="card-text" style="font-size: 16px;">Reasonable statements with at least one noticeable weakness. </p>
                    </div>

                </div>
                <div class="card border-0">
                    <div class="card-body text-center">
                        <div class="display-4 mb-2 text-info">3</div>
                        <h5 class="card-title">Moderate</h5>
                        <p class="card-text" style="font-size: 16px;">Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness</p>
                    </div>

                </div>
                <div class="card border-0">
                    <div class="card-body text-center">
                        <div class="display-4 mb-2 text-primary">4</div>
                        <h5 class="card-title">Strong</h5>
                        <p class="card-text" style="font-size: 16px;">Reasonable statements with at least one impressive shining points. </p>
                    </div>

                </div>
                <div class="card border-0">
                    <div class="card-body text-center">
                        <div class="display-4 mb-2 text-success">5</div>
                        <h5 class="card-title">Compelling</h5>
                        <p class="card-text" style="font-size: 16px;">Powerful evidence with effective counterpoints and create deep connection with audience.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

        </div>
    </div>

    

    <div id="consentModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="consentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document"  style="max-width: 800px;">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title w-100 text-center" id="consentModalLabel">Consent Form</h4>
            </div>
            <div class="modal-body" style="max-height: 400px; overflow-y: auto;">
                <div class="consent-form">
                <h5>Study Title: Designing LLM-based Agents for Competitive Debate</h5>
                <div>
                    <p><strong>ID #</strong>: STUDY2024_00000359 </p>
                    <p><strong>Principal Investigator:</strong> Dr. Fei Fang</p>
                    <p>Software and Societal Systems Department (S3D), Carnegie Mellon University </br>
                    5000 Forbes Ave, Pittsburgh, PA 15213 </br>
                    (412) 268-2000, feifang@cmu.edu </br>
                    <p><strong>Other Investigator(s):</strong> Danqing Wang, PhD student </p>
                </div>

                <hr class="my-4">
                <div>
                    <h6>Purpose of this Study</h6>
                    <p>Competitive debate involves critical thinking, clear and persuasive expression, conflict resolving, and the organization of reliable evidence. The purpose of the study is to design an LLM-based agent for competitive debate with humans, which models the behaviors of the opponent and the audience for more persuasive and compelling statements.</p>
                </div>

                <div>
                    <h6>Summary</h6>
                    <p>You'll review a recorded 20-minute debate between two debaters (humans or AI debaters) and evaluate the performance of each side. You will be asked to complete a questionnaire, which includes your vote before and after the debate process on a predetermined topic. There are also several fine-grained aspects and you will need to rate the performance between 1 to 5 for each side. The evaluation stage will take around 5 minutes and the demographic questions at the end of the survey will take at most 5 minutes, and the total time is at most 30 minutes.</p>
                    <p>This human evaluation would provide valuable insights into the current state of AI debating capabilities, highlight areas for improvement, and help identify ways to enhance AI systems to more closely emulate human-level performance in complex argumentative tasks.</p>
                </div>

                <div>
                    <h6>Participant Requirements</h6>
                    <p>Participation in this study is limited to individuals who:</p>
                    <ul>
                        <li>Age 18 and older</li>
                        <li>Have the ability to sign the consent form electronically</li>
                        <li>Have access to the Internet</li>
                        <li>Have a high school degree</li>
                        <li>Should be located in US</li>
                        <li>Must be fluent in written and spoken English</li>
                    </ul>
                    <p>A signed consent form is required for participation.</p>
                </div>

                <div>
                    <h6>Risks</h6>
                    <p>We confirm that the risk to participants is minimal, no greater than normal life. Several potential risks on Breach of Confidentiality should be considered: Participants will need to provide their name to sign the consent form and their email address to receive the compensation. They will also need to answer demographic questions at the end of the survey.</p>
                </div>

                <div>
                    <h6>Benefits</h6>
                    <p>Your involvement will contribute valuable information that could enhance the design and functionality of AI systems in constructing persuasive arguments and engaging in coherent debates. This could indirectly benefit the broader community by improving AI's ability to reason, articulate complex ideas, and respond dynamically in various contexts. The insights gained may also advance our understanding of human argumentation and decision-making processes.</p>
                </div>

                <div>
                    <h6>Compensation & Costs</h6>
                    <p>You will receive <strong>$10 for compensation after you complete the questionnaire</strong>. There will be no cost to you if you participate in this study.</p>
                </div>

                <div>
                    <h6>Future Use of Information</h6>
                    <p>In the future, once we have removed all identifiable information from your data, we may use the data for our future research studies, or we may distribute the data to other investigators for their research studies. We would do this without getting additional informed consent from you (or your legally authorized representative). Sharing of data with other researchers will only be done in such a manner that you will not be identified.</p>
                </div>

                <div>
                    <h6>Confidentiality</h6>
                    <p>The study will collect your research data through your use of Google Forms. These companies are not owned by CMU. These companies will have access to the research data that you produce and any identifiable information that you share with them while using their products. Please note that Carnegie Mellon does not control the Terms and Conditions of the companies or how they will use or protect any information that they collect.</p>
                    <p><strong>Payment Confidentiality:</strong> Payment methods, especially those facilitated by third-party vendors (such as Visa, Venmo, Amazon, PayPal), may require that the researchers and/or the vendor collect and use personal information (such as your first and last name, email addresses, phone numbers, banking information) provided by you in order for your payment to be processed. As with any payment transaction, there is the risk of a breach of confidentiality from the third-party vendor. All personal information collected by the researcher will be held as strictly confidential and stored in a password-protected digital file, or in a locked file cabinet, until payments are processed and reconciled. This information will be destroyed at the earliest acceptable time. Personal information held by the third-party vendor will be held according to their terms of use policy.</p>
                </div>

                <div>
                    <h6>Data Storage and Access</h6>
                    <p>All study data will be securely stored at CMU, accessible only to the research team. Audio recordings will be transcribed and then deleted from third-party services. Personal identifiers will not be published or disseminated.</p>
                </div>

                <div>
                    <h6>Rights</h6>
                    <p>Your participation is voluntary. <strong>You are free to stop your participation at any point. Refusal to participate or withdrawal of your consent or discontinued participation in the study will not result in any penalty or loss of benefits or rights to which you might otherwise be entitled.</strong> The Principal Investigator may at his/her discretion remove you from the study for any of a number of reasons. In such an event, you will not suffer any penalty or loss of benefits or rights which you might otherwise be entitled.</p>
                </div>

                <div>
                    <h6>Right to Ask Questions & Contact Information</h6>
                    <p>If you have any questions about this study, you should feel free to ask them now. If you have questions later, desire additional information, or wish to withdraw your participation please contact the Principal Investigator by mail, phone or e-mail in accordance with the contact information listed on the first page of this consent.</p>
                    <p>If you have questions pertaining to your rights as a research participant; or to report concerns to this study, you should contact the Office of Research Integrity and Compliance at Carnegie Mellon University. Email: irb-review@andrew.cmu.edu. Phone: 412-268-4721.</p>
                </div>

                <div>
                    <h6>Voluntary Consent Confirmation</h6>
                    <div>
                        <p><input type="checkbox"> I confirm I am over 18 years old and in the United States</p>
                        <p><input type="checkbox"> I confirm I have a high school degree</p>
                        <p><input type="checkbox"> I have read and understood this consent form</p>
                        <p><input type="checkbox"> I agree to participate in the study</p>
                    </div>

                    <p>By clicking "Accept" below, you agree that the above information has been explained to you and all your current questions have been answered. You are encouraged to ask questions about any aspect of this research study during the course of the study and in the future. By signing this form, you agree to participate in this research study. </p>

                </div>

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="rejectConsent()">Reject</button>
                <button type="button" class="btn btn-primary" onclick="acceptConsent()">Accept</button>
            </div>
        </div>
        </div>
    </div>

    <style>
        .consent-form {
            font-size: 14px; /* Adjust the font size as needed */
        }
    </style>




    <div class="container" id="form_container">
        <form id="theForm" action="https://script.google.com/macros/s/AKfycbx3soqlvyNqvJUWpqUQc8wN4Hl7k5cs57awyATUshnXV7pTj4ADUF40OjmiISRZx4dc2g/exec" method="POST" onsubmit="return preventRepeatedSubmission() && checkAllRadioGroupsChecked() && confirmSubmission() && addTimestamp();;">
        <input type="hidden" name="timestamp" id="timestamp">
            <div class="form-group">
                <label for="name">Name / Prolific ID (for Prolific Participants) <sup>*</sup>  </label>
                <input class="form-control" type="text" inputmode="text" name="name" required>
            </div>
            <div class="form-group">
                <label for="mail">Email / Prolific Email (for Prolific Participants) <sup>*</sup> </label>
                <input class="form-control" type="text" inputmode="email" placeholder="account@example.com" name="mail" required>
            </div>
            <small class="form-text text-muted">* indicate required question</small>

            <br>
            <div id="motion" name="motion"><h4>Motion: If Health Care Is A Scarce Resource, Government Should Step In To Ration Care, Deciding Whose Life Is Worth Saving </h4></div>
            <br>
            
            
    <input type="hidden" id="mode" name="mode" value="mixed">
    <input type="hidden" id="version" name="version" value="0510">
    <input type="hidden" id="redirect_url" name="redirect_url" value="">

    <!-- Success Message Modal -->
    <div class="modal fade" id="successModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="successModalLabel">Success!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    Your responses have been successfully submitted! Redirecting to the next questionnaire...
                </div>
            </div>
        </div>
    </div>

    <!-- Redirect Message Modal -->
    <div class="modal fade" id="redirectModal" tabindex="-1" role="dialog" aria-labelledby="redirectModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="redirectModalLabel">Redirecting...</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>You will be automatically redirected to the next questionnaire in <span id="countdown">5</span> seconds...</p>
                    <p>If you are not redirected automatically, <a href="#" id="manualRedirect">click here</a>.</p>
                </div>
            </div>
        </div>
    </div>

    
        <div class="card form-group question" id="question_1">
            <div class="card-header"><b>Question 1: Pre-Vote Stage</b></div>
            <div class="card-body">
                

                <!-- Sanity Check Questions -->
                <div id="sanity_check_questions" style="display: block;">
                    
                </div>

                <!-- Overall Comparison Question -->
                <div id="overall_comparison_question" style="display: block;">
                    <div class="form-group">
                        <label for="q1" style="font-weight: bold; font-size: 1.1em;">
                            Please choose your attitude towards the given motion before the debate begins.<sup>*</sup>
                        </label>
                        <div class="row align-items-center">
                            <div class="col-10 offset-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q1_against_2" name="q1" value="-2">
                                    <label class="form-check-label" for="q1_against">Highly Against</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q1_against_1" name="q1" value="-1">
                                    <label class="form-check-label" for="q1_tie">Slightly Against</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q1_tie" name="q1" value="0">
                                    <label class="form-check-label" for="q1_tie">Neutral</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q1_for_1" name="q1" value="1">
                                    <label class="form-check-label" for="q1_tie">Slightly Support</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q1_for_2" name="q1" value="2">
                                    <label class="form-check-label" for="q1_for">Highly Support</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            
            </div>
            <div class="card-footer">
                <b>End of Pre-Vote Stage Comparison</b>
            </div>
        </div>
    
        <div class="card form-group question" id="question_2">
            <div class="card-header"><b>Question 2: Opening Stage</b></div>
            <div class="card-body">
                
                    <div class="side-container">
                        
                            <!-- Audio Player -->
                            <div class="row align-items-center mb-2 audio">
                                <div class="col-2 text-left audio-side">
                                    <strong> For Side </strong> 
                                </div>
                                <div class="col-9">
                                    <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0510/case10_2/opening_for_a.mp3" class="w-100" id="audio_1_For">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>
                            </div>

                            <!-- Transcript -->
                            <details class="transcript-details mb-3">
                                <summary class="transcript-summary p-2 bg-light rounded">
                                    <i class="fas fa-file-alt mr-2"></i>
                                    (Optional) <strong> For </strong> - Transcript
                                </summary>
                                <div class="transcript-content p-3 bg-white border rounded mt-2">In this debate, we shall argue that if healthcare is a scarce resource, the government should step in to ration care, deciding whose life is worth saving. Healthcare rationing refers to the allocation of limited medical resources based on predefined criteria such as medical necessity, likelihood of benefit, or societal value . Government intervention in this context ensures fair and efficient distribution of these resources during times of scarcity .<br><br>Our judging criteria is maximizing societal health outcomes. This standard is appropriate because it aligns with utilitarian principles, ensuring that limited resources are used where they can have the most significant impact on the overall health of the population .<br><br>First, centralized rationing ensures equitable and efficient resource distribution. Studies show that government-led rationing prevents disparities in access to care by allocating resources based on medical need rather than ability to pay. For example, during the COVID-19 pandemic, countries with centralized triage systems like the UK's NHS were able to prioritize ICU beds for patients with the highest survival potential, reducing mortality rates by up to 15% compared to systems without such protocols . This demonstrates how government intervention can optimize resource use to benefit the greatest number of people.<br><br>Second, ethical frameworks justify government-led rationing. Research indicates that utilitarianism - which seeks to maximize overall good - supports prioritizing patients who are most likely to benefit from treatment. A 2020 study published in the New England Journal of Medicine found that applying utilitarian principles to ventilator allocation during the pandemic could save 23% more lives than first-come-first-served approaches . Similarly, prioritarianism argues for protecting the most vulnerable populations, such as frontline healthcare workers who are essential for maintaining care delivery during crises . These ethical principles provide a moral foundation for government rationing decisions.<br><br>Third, rationing prevents healthcare system collapse during crises. Data from Italy's early COVID-19 outbreak shows that hospitals without clear rationing protocols experienced 40% higher mortality rates when resources were exhausted . In contrast, countries that implemented government-mandated triage systems, like Germany, maintained better care standards throughout their surges. The UK's virtual triage system  successfully redirected 30% of potential emergency cases to more appropriate care settings, preventing system overload . These examples prove that structured rationing preserves healthcare capacity and saves lives during shortages.<br><br>In conclusion, government intervention in healthcare rationing is necessary to ensure equitable distribution, uphold ethical principles, and prevent system collapse - ultimately maximizing health outcomes for society as a whole.<br><br></div>
                            </details>

                            <!-- Rating Section -->
                            <div class="form-group">
                                <label for="q2_1">
                                    How persuasive are these arguments in supporting <strong>For</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                                </label>
                                <div class="row align-items-center">
                                    <div class="col-10 offset-1">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_1_poor" name="q2_1" value="1">
                                            <label class="form-check-label" for="q2_1_poor">
                                                <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_1_weak" name="q2_1" value="2">
                                            <label class="form-check-label" for="q2_1_weak">
                                                <strong>Weak</strong>: Reasonable statements with at least one noticeable weakness. 
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_1_moderate" name="q2_1" value="3">
                                            <label class="form-check-label" for="q2_1_moderate">
                                                <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_1_strong" name="q2_1" value="4">
                                            <label class="form-check-label" for="q2_1_strong">
                                                <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_1_compelling" name="q2_1" value="5">
                                            <label class="form-check-label" for="q2_1_compelling">
                                                <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Comment Section -->
                            <div class="form-group mt-3 mb-4">
                                <label for="q2_1_comment"> (Optional) Additional comments for <strong> For </strong> side:</label>
                                <textarea class="form-control" id="q2_1_comment" name="q2_1_comment" rows="2"></textarea>
                            </div>
                        
                    </div>

                    
                       <div class="text-center">
                           <button id="nextSideButton" class="btn btn-info btn-lg button-next-side" type="button">Proceed to next side →</button>
                       </div>
                    

                    <hr class="my-4">
                
                    <div class="side-container">
                        
                            <!-- Audio Player -->
                            <div class="row align-items-center mb-2 audio">
                                <div class="col-2 text-left audio-side">
                                    <strong> Against Side </strong> 
                                </div>
                                <div class="col-9">
                                    <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0510/case10_2/opening_against_b.mp3" class="w-100" id="audio_2_Against">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>
                            </div>

                            <!-- Transcript -->
                            <details class="transcript-details mb-3">
                                <summary class="transcript-summary p-2 bg-light rounded">
                                    <i class="fas fa-file-alt mr-2"></i>
                                    (Optional) <strong> Against </strong> - Transcript
                                </summary>
                                <div class="transcript-content p-3 bg-white border rounded mt-2">Ladies and gentlemen, let’s confront the grim reality: government-led healthcare rationing isn’t about fairness—it’s about bureaucrats deciding who deserves to live. Our opponents claim this is "necessary" and "equitable," but how can any system that reduces human lives to cold calculations be ethical? Their utilitarian framework of "maximizing societal health outcomes" ignores the moral weight of replacing medical judgment with rigid formulas.  <br><br>First, governments lack the moral authority to make life-and-death decisions. History exposes the dangers of such power. During COVID-19, *Health Affairs* reported in 2021 that 30% of low-income patients faced life-threatening delays under rationing protocols, while wealthier patients exploited loopholes. Is this "fairness," or systemic bias masquerading as policy? Research from *PMC*  titled "AI-Driven Healthcare Resource Distribution" confirms that AI tools that dynamically match resources to need can address scarcity without sacrificing equity. Rationing doesn’t eliminate inequality—it institutionalizes it.  <br><br>Second, healthcare decisions must remain between doctors and patients, not centralized bureaucracies. Consider a cancer patient told, "Your 49% survival odds disqualify you." But her doctor knows she’s a single parent fighting for her child. Rigid protocols can’t account for such nuance. Italy’s experience proves this: hospitals allowing local triage teams to decide saw a 12% lower mortality rate than those following national rationing guidelines, according to a 2022 World Health Organization report titled "Italy’s Triage Outcomes Report." Flexibility saves lives; top-down control risks them.  <br><br>Now, let’s examine Germany’s alternative. In 2020, Germany avoided rationing entirely by expanding ICU capacity by 5,000 beds with just a modest budget adjustment, saving an estimated 8,000 lives. This demonstrates that scarcity isn’t solved by denial—it’s solved by innovation and investment. Why fund denial committees instead of hospitals? *ScienceDirect*’s 2023 review titled "Decentralized Healthcare Allocation Models" highlights how decentralized, community-involved resource allocation improves outcomes without sacrificing fairness.  <br><br>Finally, rationing exacerbates inequality under the guise of equity. Our opponents present a false dilemma: ration or collapse. But wealthier patients consistently bypass restrictions, as documented in *Health Affairs*’ 2021 study. The solution lies not in rationing but in expanding capacity and empowering local decision-makers.  <br><br>In closing, rationing isn’t a solution—it’s surrender. We must reject systems that commodify human dignity and embrace alternatives that expand capacity, empower doctors, and prioritize every life. I urge you to take concrete action: contact your representative to oppose rationing policies and advocate for hospital funding bills like Germany’s *Capacity Act*. Thank you.<br><br></div>
                            </details>

                            <!-- Rating Section -->
                            <div class="form-group">
                                <label for="q2_2">
                                    How persuasive are these arguments in supporting <strong>Against</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                                </label>
                                <div class="row align-items-center">
                                    <div class="col-10 offset-1">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_2_poor" name="q2_2" value="1">
                                            <label class="form-check-label" for="q2_2_poor">
                                                <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_2_weak" name="q2_2" value="2">
                                            <label class="form-check-label" for="q2_2_weak">
                                                <strong>Weak</strong>: Reasonable statements with at least one noticeable weakness. 
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_2_moderate" name="q2_2" value="3">
                                            <label class="form-check-label" for="q2_2_moderate">
                                                <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_2_strong" name="q2_2" value="4">
                                            <label class="form-check-label" for="q2_2_strong">
                                                <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q2_2_compelling" name="q2_2" value="5">
                                            <label class="form-check-label" for="q2_2_compelling">
                                                <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Comment Section -->
                            <div class="form-group mt-3 mb-4">
                                <label for="q2_2_comment"> (Optional) Additional comments for <strong> Against </strong> side:</label>
                                <textarea class="form-control" id="q2_2_comment" name="q2_2_comment" rows="2"></textarea>
                            </div>
                        
                    </div>

                    

                    <hr class="my-4">
                

                <!-- Sanity Check Questions -->
                <div id="sanity_check_questions" style="display: block;">
                    
                        
                        
                            <div class="form-group mt-3 mb-4">
                                <label for="q2_sanity">Which claim is proposed by <strong>Against</strong> side as its <strong>first</strong> main claim during the opening statement? If multiple options apply, please choose the best one. <sup>*</sup></label>
                                <div class="row align-items-center">
                                    <div class="col-10 offset-1">
                                        
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" 
                                                    id="q2_sanity_option_0"
                                                    name="q2_sanity"
                                                    value="0">
                                                <label class="form-check-label" for="q2_sanity_option_0">
                                                    A government system is more transparent than private decisions made behind closed doors.
                                                </label>
                                            </div>
                                        
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" 
                                                    id="q2_sanity_option_1"
                                                    name="q2_sanity"
                                                    value="1">
                                                <label class="form-check-label" for="q2_sanity_option_1">
                                                    Universal preschool creates equal educational opportunities that shape lifetime success.
                                                </label>
                                            </div>
                                        
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" 
                                                    id="q2_sanity_option_2"
                                                    name="q2_sanity"
                                                    value="2">
                                                <label class="form-check-label" for="q2_sanity_option_2">
                                                    Deciding whose life is worth saving is morally wrong and beyond any government's authority.
                                                </label>
                                            </div>
                                        
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" 
                                                    id="q2_sanity_option_3"
                                                    name="q2_sanity"
                                                    value="3">
                                                <label class="form-check-label" for="q2_sanity_option_3">
                                                    Government rationing of healthcare violates individual rights to life and autonomy.
                                                </label>
                                            </div>
                                        
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" 
                                                    id="q2_sanity_option_4"
                                                    name="q2_sanity"
                                                    value="4">
                                                <label class="form-check-label" for="q2_sanity_option_4">
                                                    None of the above
                                                </label>
                                            </div>
                                        
                                    </div>
                                </div>
                            </div>
                            <input type="hidden" id="q2_sanity_answer" name="q2_sanity_answer" value="2">
                        
                    
                </div>

                <!-- Overall Comparison Question -->
                <div id="overall_comparison_question" style="display: block;">
                    <div class="form-group">
                        <label for="q2" style="font-weight: bold; font-size: 1.1em;">
                            After listening to the two statements in Opening stage, please choose your attitude towards the given motion (If Health Care Is A Scarce Resource, Government Should Step In To Ration Care, Deciding Whose Life Is Worth Saving) now<sup>*</sup>
                        </label>
                        <div class="row align-items-center">
                            <div class="col-10 offset-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q2_against_2" name="q2" value="-2">
                                    <label class="form-check-label" for="q2_against">Highly Against</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q2_against_1" name="q2" value="-1">
                                    <label class="form-check-label" for="q2_tie">Slightly Against</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q2_tie" name="q2" value="0">
                                    <label class="form-check-label" for="q2_tie">Neutral</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q2_for_1" name="q2" value="1">
                                    <label class="form-check-label" for="q2_tie">Slightly Support</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q2_for_2" name="q2" value="2">
                                    <label class="form-check-label" for="q2_for">Highly Support</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            
            </div>
            <div class="card-footer">
                <b>End of Opening Stage Comparison</b>
            </div>
        </div>
    
        <div class="card form-group question" id="question_3">
            <div class="card-header"><b>Question 3: Rebuttal Stage</b></div>
            <div class="card-body">
                
                    <div class="side-container">
                        
                            <!-- Audio Player -->
                            <div class="row align-items-center mb-2 audio">
                                <div class="col-2 text-left audio-side">
                                    <strong> For Side </strong> 
                                </div>
                                <div class="col-9">
                                    <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0510/case10_2/rebuttal_for_a.mp3" class="w-100" id="audio_1_For">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>
                            </div>

                            <!-- Transcript -->
                            <details class="transcript-details mb-3">
                                <summary class="transcript-summary p-2 bg-light rounded">
                                    <i class="fas fa-file-alt mr-2"></i>
                                    (Optional) <strong> For </strong> - Transcript
                                </summary>
                                <div class="transcript-content p-3 bg-white border rounded mt-2">Thank you, chairperson. Esteemed judges, ladies and gentlemen, the opponent's opening statement contains four fundamental flaws that we must address: their mischaracterization of government authority, their idealized view of doctor-patient autonomy, their unrealistic "expand capacity" solution, and their misunderstanding of how rationing actually reduces inequality.<br><br>First, the opposition claims governments lack moral authority to make rationing decisions, citing COVID-19 disparities. This argument collapses under scrutiny. Their 30% delay statistic from *Health Affairs*  fails to prove rationing caused these delays - overwhelmed systems would experience bottlenecks regardless. Moreover, their proposed alternative of AI tools or doctor-only decisions doesn't eliminate life-and-death choices; it merely privatizes them. Studies show unregulated systems produce worse outcomes: in the U.S. , Black COVID-19 patients were 30% less likely to receive ventilator support than white patients with identical symptoms . Our NHS data demonstrates centralized systems reduce such disparities by applying uniform criteria.<br><br>Second, their romanticized doctor-patient autonomy argument ignores practical realities. While doctors should have input, pure decentralization fails during crises. Their Italy example comparing regional vs national triage is misleading - the 12% mortality difference  likely reflects uneven resource distribution, not better decision-making. Our evidence from Italy's early outbreak proves the opposite: hospitals without any protocols saw 40% higher mortality when overwhelmed . Modern frameworks like the UK's don't eliminate physician judgment; they enhance it with evidence-based guidelines. When New York allowed purely local decisions during COVID's peak, some hospitals rationed ventilators by lottery - hardly the "nuanced" approach opponents praise .<br><br>Third, their Germany case study actually supports our position. While they celebrate Germany's ICU expansion, this required centralized coordination and still involved rationing - just with more resources. The 8,000 lives saved  resulted from prioritizing beds where needed most, not unlimited capacity. Most nations can't replicate this: Germany spends 11.7% of GDP on healthcare versus the OECD average of 8.8% . Even wealthy nations face limits - during Delta, Australia's ICU expansion still required triage protocols when cases spiked . Their solution isn't an alternative to rationing; it's rationing done well.<br><br>Fourth, their inequality argument commits the perfection fallacy. Yes, some wealthy patients bypass rules, but non-rationed systems fare worse. Compare the UK  and U.S.  during COVID: low-income Britons had 25% better access to ICU care than their American counterparts . Rationing aims to reduce inequity, not eliminate it entirely - and the data shows it succeeds. Their *Health Affairs* study  never compares rationing to non-rationing systems, making its critique meaningless.<br><br>In conclusion, the opposition offers no viable alternative. Their proposals either hide rationing under different names or rely on unrealistic resource expansion. During true scarcity, structured government intervention remains the most ethical and effective solution.<br><br></div>
                            </details>

                            <!-- Rating Section -->
                            <div class="form-group">
                                <label for="q3_1">
                                    How persuasive are these arguments in supporting <strong>For</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                                </label>
                                <div class="row align-items-center">
                                    <div class="col-10 offset-1">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q3_1_poor" name="q3_1" value="1">
                                            <label class="form-check-label" for="q3_1_poor">
                                                <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q3_1_weak" name="q3_1" value="2">
                                            <label class="form-check-label" for="q3_1_weak">
                                                <strong>Weak</strong>: Reasonable statements with at least one noticeable weakness. 
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q3_1_moderate" name="q3_1" value="3">
                                            <label class="form-check-label" for="q3_1_moderate">
                                                <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q3_1_strong" name="q3_1" value="4">
                                            <label class="form-check-label" for="q3_1_strong">
                                                <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="q3_1_compelling" name="q3_1" value="5">
                                            <label class="form-check-label" for="q3_1_compelling">
                                                <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Comment Section -->
                            <div class="form-group mt-3 mb-4">
                                <label for="q3_1_comment"> (Optional) Additional comments for <strong> For </strong> side:</label>
                                <textarea class="form-control" id="q3_1_comment" name="q3_1_comment" rows="2"></textarea>
                            </div>
                        
                    </div>

                    
                       <div class="text-center">
                           <button id="nextSideButton" class="btn btn-info btn-lg button-next-side" type="button">Proceed to next side →</button>
                       </div>
                    

                    <hr class="my-4">
                
                    <div class="side-container">
                        
                            <div class="row">
                                <!-- Left Side (Output A) -->
                                <div class="col-6 border-right">
                                    <!-- Audio Player -->
                                    
                                    <h5 class="text-center mb-3">Output A - <strong>Against</strong> Side</h5>
                                        <div class="audio-section mb-4">
                                            <div class="audio-player mb-3">
                                                <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0510/case10_2/rebuttal_against_b.mp3" class="w-100" id="audio_a_2_Against">
                                                    Your browser does not support the audio element.
                                                </audio>
                                            </div>

                                            <!-- Transcript -->
                                            <details class="transcript-details mb-3">
                                                <summary class="transcript-summary p-2 bg-light rounded">
                                                    <i class="fas fa-file-alt mr-2"></i>
                                                    (Optional) <strong>Against</strong> - Transcript A
                                                </summary>
                                                <div class="transcript-content p-3 bg-white border rounded mt-2">Let’s dismantle the myth that rationing is the only path. First, the opponent claims rationing is "fair" because it uses uniform criteria. But fairness isn’t just about rules—it’s about outcomes. Research from *Health Affairs* in 2021 confirms that rigid protocols often fail vulnerable populations, with racial disparities persisting under rationing systems like the NHS, where 30% of low-income patients faced deadly delays due to centralized decision-making . Yes, the U.S. has disparities, but replacing one flawed system with another isn’t progress. Their utilitarian framework reduces humans to percentages—would we accept a government deciding which neighborhoods deserve fire trucks based on "likely survival rates"? While triage is necessary in emergencies, permanent rationing extends this logic dangerously, eroding trust in healthcare systems.  <br><br>Second, they dismiss decentralization as chaotic, but Germany proved otherwise. According to a 2023 study in *PMC*, by investing just 3% more in ICU beds through their *Capacity Act*, Germany saved 8,000 lives without denying care . Italy’s 12% lower mortality with local triage, as reported by the *Bulletin of the World Health Organization* in 2003, wasn’t luck—it was doctors adapting to real needs . New York’s lottery was a failure of *under-resourcing*, not decentralization. The solution isn’t more bureaucracy; it’s more beds, more staff, and trust in medical professionals. Higher spending reflects prioritization, not waste—preventing crises saves long-term costs.  <br><br>Third, they admit rationing doesn’t eliminate inequality—it just "reduces" it. But when wealthier patients consistently bypass rules, that’s not reduction—it’s systemic bias. A 2011 study published in *The American Journal of Public Health* highlights how racial and socioeconomic disparities persist under rationing, with marginalized groups facing systemic barriers to care . The UK’s 25% better ICU access for low-income patients? That’s still 75% short of equity. We can do better by expanding capacity universally, not rationing scraps.  <br><br>Finally, governments shouldn’t override human judgment. History shows centralized life-and-death decisions breed abuse. Imagine a cancer patient told, "You’re not worth saving"—by an algorithm. That’s not healthcare; it’s institutionalized neglect. According to Dr. Atul Gawande, a surgeon and public health researcher, systems that prioritize cost-cutting over patient care often delay or deny critical treatments, eroding trust in medicine .  <br><br>The choice is clear: reject rationing’s false dilemma. Fund hospitals. Empower doctors. Value every life.<br><br>
                                                </div>
                                            </details>

                                            <!-- Rating Section -->
                                            <div class="form-group">
                                            <label for="q3_2_a">
                                                How persuasive is <strong>Output A</strong> in supporting <strong>Against</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                                            </label>
                                            <div class="row align-items-center">
                                                <div class="col-10 offset-1">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q3_2_a_poor" name="q3_2_a" value="1">
                                                        <label class="form-check-label" for="q3_2_a_poor">
                                                            <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q3_2_a_weak" name="q3_2_a" value="2">
                                                        <label class="form-check-label" for="q3_2_a_weak">
                                                            <strong>Weak</strong>: Reasonable statements with at least one noticeable weakness. 
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q3_2_a_moderate" name="q3_2_a" value="3">
                                                        <label class="form-check-label" for="q3_2_a_moderate">
                                                            <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q3_2_a_strong" name="q3_2_a" value="4">
                                                        <label class="form-check-label" for="q3_2_a_strong">
                                                            <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q3_2_a_compelling" name="q3_2_a" value="5">
                                                        <label class="form-check-label" for="q3_2_a_compelling">
                                                            <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Comment Section -->
                                        <div class="form-group mt-3 mb-4">
                                            <label for="q3_2_comment_a"> (Optional) Additional comments for <strong> Output A's Against </strong> side:</label>
                                            <textarea class="form-control" id="q3_2_comment_a" name="q3_2_comment_a" rows="2"></textarea>
                                        </div>
                                        </div>
                                        
                                    
                                </div>

                                <!-- Right Side (Output B) -->
                                <div class="col-6">
                                    <!-- Audio Player -->
                                    <h5 class="text-center mb-3">Output B - <strong>Against</strong> Side </h5>
                                        <div class="audio-section mb-4">
                                            <div class="audio-player mb-3">
                                                <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0510/case10_2/rebuttal_against_a.mp3" class="w-100" id="audio_b_2_Against">
                                                    Your browser does not support the audio element.
                                                </audio>
                                            </div>

                                            <!-- Transcript -->
                                            <details class="transcript-details mb-3">
                                                <summary class="transcript-summary p-2 bg-light rounded">
                                                    <i class="fas fa-file-alt mr-2"></i>
                                                    (Optional) <strong>Against</strong> Transcript B
                                                </summary>
                                                <div class="transcript-content p-3 bg-white border rounded mt-2">Thank you, chairperson. Esteemed judges, ladies and gentlemen, while our opponents present their case with conviction, their arguments contain several critical flaws that we must address. Their defense of government rationing fails to account for three fundamental issues: the ethical bankruptcy of utilitarian calculations, the proven superiority of decentralized decision-making, and the existence of viable alternatives to rationing.<br><br>First, let's examine their flawed utilitarian framework. While maximizing health outcomes may sound appealing in theory, in practice it leads to morally reprehensible decisions. The Stanford Encyclopedia of Philosophy clearly documents how such approaches systematically disadvantage vulnerable populations . Consider the case of New York during COVID's peak, where ventilator allocation by lottery became necessary under their utilitarian model . Is this really the kind of healthcare system we want? Our side proposes an ethical framework that values every human life equally, not just as a number in a calculation. While they cite NHS data showing reduced disparities, research in JAMA reveals that even in these centralized systems, Black patients still face 18% higher denial rates for chronic care  - proving that rationing doesn't eliminate bias, it merely institutionalizes it differently.<br><br>Second, our opponents fundamentally misunderstand our position on medical decision-making. We don't advocate for complete anarchy in healthcare - we propose physician-led decision-making within reasonable ethical guidelines. Their own example from Italy actually supports our case: the 12% lower mortality rate occurred precisely because local teams could respond to real-time conditions . Compare this to Australia's Delta wave experience, where rigid protocols forced doctors to turn away salvageable patients . The ScienceDirect study we cited demonstrates that hybrid models - combining local clinical judgment with broad ethical guidelines - achieve better outcomes than either pure centralization or complete decentralization .<br><br>Third, they dismiss our alternative solutions as unrealistic, yet Germany's Capacity Act proves otherwise. By reallocating just 2.3% of healthcare spending , Germany created sufficient ICU capacity to avoid rationing entirely. This wasn't "rationing done well" as they claim - it was avoiding rationing through smart, targeted investment. Their OECD spending comparison is particularly misleading, as it ignores that the U.S. spends more than Germany while achieving worse outcomes  - proving the issue isn't absolute resources but how they're allocated. Our PMC study shows how AI-driven resource matching could achieve similar efficiency gains without creating bureaucratic rationing systems .<br><br>Finally, their entire argument rests on a false dichotomy - that we must either accept government rationing or face system collapse. The WHO's global COVID response review found that 73% of nations avoided formal rationing through precisely the kind of measures we advocate: capacity expansion, flexible local decision-making, and innovative resource allocation . Their either-or framing ignores this third way entirely.<br><br>In closing, we must ask: why settle for a system that reduces human lives to calculations when better alternatives exist? Why accept institutionalized bias when we can empower doctors with better tools? Why fund denial committees when we could fund hospitals? The choice before us isn't between heartless markets and heartless bureaucracy - it's between surrender and innovation. We urge you to choose innovation. Thank you.<br><br>
                                                </div>
                                            </details>

                                            <!-- Rating Section -->
                                            <div class="form-group">
                                            <label for="q3_2_b">
                                                How persuasive is <strong>Output B</strong> in supporting <strong>Against</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                                            </label>
                                            <div class="row align-items-center">
                                                <div class="col-10 offset-1">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q3_2_b_poor" name="q3_2_b" value="1">
                                                        <label class="form-check-label" for="q3_2_b_poor">
                                                            <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q3_2_b_weak" name="q3_2_b" value="2">
                                                        <label class="form-check-label" for="q3_2_b_weak">
                                                            <strong>Weak</strong>: Reasonable statements with at least one noticeable weaknesses. 
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q3_2_b_moderate" name="q3_2_b" value="3">
                                                        <label class="form-check-label" for="q3_2_b_moderate">
                                                            <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q3_2_b_strong" name="q3_2_b" value="4">
                                                        <label class="form-check-label" for="q3_2_b_strong">
                                                            <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" id="q3_2_b_compelling" name="q3_2_b" value="5">
                                                        <label class="form-check-label" for="q3_2_b_compelling">
                                                            <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Comment Section -->
                                        <div class="form-group mt-3 mb-4">
                                            <label for="q3_2_comment_b"> (Optional) Additional comments for <strong> Output B's Against </strong> side:</label>
                                            <textarea class="form-control" id="q3_2_comment_b" name="q3_2_comment_b" rows="2"></textarea>
                                        </div>
                                        </div>
                                        
                                </div>
                            </div>

                            <div class="row">
                                <div class="form-group">
                                    <label for="q3" style="font-weight: bold; font-size: 1.1em;" class="col-12 offset-4">
                                        Which output do you find more effective overall?<sup>*</sup>
                                    </label>
                                    <div class="row justify-content-center">
                                        <div class="col-12 offset-8">
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="q3_2" value="-1" id="q3_2_slightly_a">
                                                <label class="form-check-label" for="q3_2_a"> Prefer Output A</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="q3_2" value="0" id="q3_2_equal">
                                                <label class="form-check-label" for="q3_2_equal">Both outputs are equally effective</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="q3_2" value="1" id="q3_2_slightly_b">
                                                <label class="form-check-label" for="q3_2_b">Prefer Output B</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        
                    </div>

                    

                    <hr class="my-4">
                

                <!-- Sanity Check Questions -->
                <div id="sanity_check_questions" style="display: block;">
                    
                </div>

                <!-- Overall Comparison Question -->
                <div id="overall_comparison_question" style="display: block;">
                    <div class="form-group">
                        <label for="q3" style="font-weight: bold; font-size: 1.1em;">
                            After listening to the two statements in Rebuttal stage, please choose your attitude towards the given motion (If Health Care Is A Scarce Resource, Government Should Step In To Ration Care, Deciding Whose Life Is Worth Saving) now<sup>*</sup>
                        </label>
                        <div class="row align-items-center">
                            <div class="col-10 offset-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q3_against_2" name="q3" value="-2">
                                    <label class="form-check-label" for="q3_against">Highly Against</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q3_against_1" name="q3" value="-1">
                                    <label class="form-check-label" for="q3_tie">Slightly Against</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q3_tie" name="q3" value="0">
                                    <label class="form-check-label" for="q3_tie">Neutral</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q3_for_1" name="q3" value="1">
                                    <label class="form-check-label" for="q3_tie">Slightly Support</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" id="q3_for_2" name="q3" value="2">
                                    <label class="form-check-label" for="q3_for">Highly Support</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            
            </div>
            <div class="card-footer">
                <b>End of Rebuttal Stage Comparison</b>
            </div>
        </div>
    

    <!-- Additional Questions -->
    
        <div class="card form-group question" id="question_4">
            <div class="card-header">
                <b>(Optional) Question 5: Which factors were most crucial in your assessment?</b>
            </div>
            <div class="card-body">
                
                    <div class="form-group">
                        <label for="q5"></label>
                        <textarea class="form-control" name="q5" rows="3"></textarea>
                    </div>
                
            </div>
            <div class="card-footer">
                <b>Additional Question 1 / 2</b>
            </div>
        </div>
    
        <div class="card form-group question" id="question_5">
            <div class="card-header">
                <b>(Optional) Question 6: How long did you spend on this whole evaluation process (including reading the motion, listening to the debate, and answering the questions)?</b>
            </div>
            <div class="card-body">
                
                    <div class="form-group">
                        <label for="q6"></label>
                        <textarea class="form-control" name="q6" rows="3"></textarea>
                    </div>
                
            </div>
            <div class="card-footer">
                <b>Additional Question 2 / 2</b>
            </div>
        </div>
    

            <input type="text" name="formid" value="10_2(T1_n3)" hidden>
            <input type="text" name="thank" value="Thanks. If you are a Prolific participant, your code is CMF26Y29" hidden>
            <div class="button-row" style="display: flex; justify-content: space-between; align-items: center; margin: 20px 0;">
                <div class="navigation-buttons">
                    
    <button id="previousPageButton" class="btn btn-info btn-lg" type="button">← Go Back</button>
    <button id="nextPageButton" class="btn btn-info btn-lg" type="button">Continue →</button>

                </div>
                <div id="submitButtonContainer" style="display: none;">
                    <input class="btn btn-info btn-lg" type="submit" value="Submit this✓" id="submitBtn">
                </div>
            </div>
            <p class="text-muted">
                <small>If you find that you can't submit the results, please check back to see if you have filled in your name and if you have answered every required question with <sup>*</sup>. Thank you.</small>
            </p>
        </form>
    </div>

    <div class="container" style="padding-top: 60px;">
        <p class="text-center text-muted">&copy; CMU Debate Team</p>
    </div>

    <!-- Replace the jQuery slim version with the full version -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" 
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" 
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/js/bootstrap.min.js" 
        integrity="sha384-XEerZL0cuoUbHE4nZReLT7nx9gQrQreJekYhJD9WNWhH8nEW+0c5qq7aIo2Wl30J" 
        crossorigin="anonymous"></script>

    <script type="text/javascript">
        // Define the beforeunload handler as a named function so it can be removed
        function handleBeforeUnload(e) {
            if (!document.getElementById('submitBtn').disabled) {
                // Cancel the event
                e.preventDefault();
                // Chrome requires returnValue to be set
                e.returnValue = '';
            }
        }

        // Add the beforeunload event listener
        window.addEventListener('beforeunload', handleBeforeUnload);

        // Function to disable the beforeunload warning
        function disableBeforeUnload() {
            window.removeEventListener('beforeunload', handleBeforeUnload);
        }

        function confirmSubmission() {
            return confirm('Are you sure you want to submit your results?');
        }

        function preventRepeatedSubmission() {
            document.getElementById('submitBtn').disabled = true;
            setTimeout("submitBtn.disabled=false;", 50);
            return true;
        };
        function addTimestamp() {
            // Get current timestamp in milliseconds
            const currentTimestamp = Date.now();
            const dateObject = new Date(currentTimestamp);
            const readableTimestamp = dateObject.toISOString().replace("T", " ").substring(0, 19);

            // Set the value of the hidden input field to the current timestamp
            document.getElementById("timestamp").value = readableTimestamp;
            return true;
        }
        function checkAllRadioGroupsChecked() {
            const radioGroups = document.querySelectorAll('.form-check-input[type="radio"]');
            const radioNames = new Set();
            radioGroups.forEach(input => radioNames.add(input.name));
            for (let name of radioNames) {
                const group = document.querySelectorAll(`input[name="${name}"]`);
                const isChecked = Array.from(group).some(input => input.checked);
                if (!isChecked) {
                    alert('Please ensure you have voted for all required questions by selecting an option in each group. You can use `Previous Question` to check your answers.');
                    return false;
                }
            }
            return true;
        }
    </script>

    
    
    <script>
    // Function to handle consent acceptance
    function acceptConsent() {
        const checkboxes = document.querySelectorAll('#consentModal input[type="checkbox"]');
        let allChecked = true;

        checkboxes.forEach(checkbox => {
            if (!checkbox.checked) {
                allChecked = false;
            }
        });

        if (allChecked) {
            $('#consentModal').modal('hide');
            // Additional logic for acceptance can be added here
        } else {
            alert('Please ensure all checkboxes are marked before proceeding.');
        }
    }

    // Function to handle consent rejection
    function rejectConsent() {
        if (!confirm('You must accept the consent form to proceed. Click "OK" to stay on this page or "Cancel" to be redirected.')) {
            window.location.href = '/debate-evaluation/thanks'; // Redirect to the "/thanks" page under the baseurl
        }
    }

    // Show the consent modal on page load
    $(document).ready(function() {
        $('#consentModal').modal({
            backdrop: 'static',
            keyboard: false
        });
        $('#consentModal').modal('show');
    });


</script>

    <script>
        // Call this function when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            setupAudioSideNavigation();
            
            // Add form submission handler
            document.getElementById('theForm').addEventListener('submit', function(e) {
                const redirectUrl = document.getElementById('redirect_url').value;
                if (redirectUrl) {
                    // Show loading indicator
                    const submitBtn = document.getElementById('submitBtn');
                    submitBtn.disabled = true;
                    submitBtn.value = 'Submitting...';
                    
                    // Submit the form first
                    const form = this;
                    const formData = new FormData(form);
                    
                    // Prevent the default form submission
                    e.preventDefault();
                    
                    fetch(form.action, {
                        method: 'POST',
                        body: formData
                    })
                    .then(response => {
                        if (response.ok) {
                            // Show success modal
                            $('#successModal').modal('show');
                            
                            // Disable the beforeunload warning
                            disableBeforeUnload();
                            
                            // Show redirect modal after a short delay
                            setTimeout(() => {
                                $('#successModal').modal('hide');
                                $('#redirectModal').modal('show');
                                
                                // Set up manual redirect link
                                document.getElementById('manualRedirect').href = redirectUrl;
                                
                                // Start countdown
                                let countdown = 5;
                                const countdownInterval = setInterval(() => {
                                    countdown--;
                                    document.getElementById('countdown').textContent = countdown;
                                    if (countdown <= 0) {
                                        clearInterval(countdownInterval);
                                        $('#redirectModal').modal('hide');
                                        window.location.href = redirectUrl;
                                    }
                                }, 1000);
                            }, 2000);
                        } else {
                            // If submission failed, show error
                            alert('Form submission failed. Please try again.');
                            submitBtn.disabled = false;
                            submitBtn.value = 'Submit All✓';
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('An error occurred while submitting the form. Please try again.');
                        submitBtn.disabled = false;
                        submitBtn.value = 'Submit All✓';
                    });
                }
            });
        });

        let currentQuestionIndex = 0;
        const questions = document.querySelectorAll('.question');
        const nextPageButton = document.getElementById('nextPageButton');

        function showQuestion(index) {
            questions.forEach((question, i) => {
                question.style.display = i <= index ? 'block' : 'none';
            });
            
            // Show submit button only when all questions are shown
            const submitButtonContainer = document.getElementById('submitButtonContainer');
            if (index === questions.length - 1) {
                submitButtonContainer.style.display = 'block';
            } else {
                submitButtonContainer.style.display = 'none';
            }
        }

        const audios = document.querySelectorAll('audio');
        audios.forEach((function(audioElement) {
            audioElement.dataset.played = "false"; // Initial state

            audioElement.addEventListener('ended', function() {
                console.log('Audio has played:', this.src);
                this.dataset.played = "true"; // Mark as played
            });
        }));

        nextPageButton.addEventListener('click', function() {
            // Get all currently visible questions
            const currentQuestions = document.querySelectorAll('.question[style*="display: block"]');
            
            let allValidAudio = true;
            let allValidQuestion = true;
            let invalidAudios = [];
            let invalidQuestions = [];

            // Check each visible question
            currentQuestions.forEach(currentQuestion => {
                // Check if all audios have been played
                const currentaudio = currentQuestion.querySelectorAll('audio');
                currentaudio.forEach(audioElement => {
                    if (audioElement.dataset.played === "false") {
                        allValidAudio = false;
                        const audioLabel = audioElement.closest(".audio") ? 
                            audioElement.closest(".audio").querySelector('.audio-side').innerText :
                            audioElement.id;
                        invalidAudios.push(audioLabel + ' (Audio not played to the end)');
                    }
                });

                // check all questions have been answered
                const radioGroups = currentQuestion.querySelectorAll('.form-check-input[type="radio"]');
                const radioNames = new Set();
                radioGroups.forEach(input => radioNames.add(input.name));
                radioNames.forEach(name => {
                    const group = currentQuestion.querySelectorAll(`input[name="${name}"]`);
                    const isChecked = Array.from(group).some(input => input.checked);
                    if (!isChecked) {
                        allValidQuestion = false;
                        const questionLabel = group[0].closest('.form-group').querySelector('label').innerText;
                        invalidQuestions.push(questionLabel);
                    }
                });
            });
            

            if (!allValidAudio) {
                alert('Please listen to the following audio before voting (for both sides). \n => ' + invalidAudios.join('\n => '));
            } else if (!allValidQuestion) {
                alert('Please vote for the following questions (for both sides). You need to choose one most suitable option. \n => ' + invalidQuestions.join('\n => '));
            } else {
                if (currentQuestionIndex < questions.length - 1) {
                    currentQuestionIndex++;
                    showQuestion(currentQuestionIndex);
                    /* document.getElementById('form_container').scrollIntoView({ behavior: 'smooth' }); */
                } else {
                    alert('You have completed all questions. Remember to click "Submit Results" to upload the results. If success, it will show "Thanks" after submission.');
                }
            }
        });

        previousPageButton.addEventListener('click', function() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            } else {
                alert('This is the first question.');
            }
        });

        // Initialize the first question
        showQuestion(currentQuestionIndex);

        // Add a function to handle navigation between audio sides
        function setupAudioSideNavigation() {            
            // Add "Other Side" button after each question's navigation
            questions.forEach(question => {
                const audioContainers = question.querySelectorAll('.side-container');
                if (audioContainers.length > 1) {                
                    // Initially show only the first audio
                    audioContainers.forEach((container, index) => {
                        if (index === 0) {
                            container.style.display = 'block';
                        } else {
                            container.style.display = 'none';
                        }
                    });
                    
                    // Set up the click handler for the Other Side button
                    let currentAudioIndex = 0;
                    const otherSideBtn = question.querySelectorAll('.button-next-side');
                    const sanityCheckDiv = question.querySelector('#sanity_check_questions');
                    const overallComparisonDiv = question.querySelector('#overall_comparison_question');
                    otherSideBtn.forEach(button => {
                        button.addEventListener('click', function() {
                            currentAudioIndex = (currentAudioIndex + 1) % audioContainers.length;
                            
                            // Show the next audio
                            audioContainers[currentAudioIndex].style.display = 'block';
                            button.style.display = 'none';

                            // Show the sanity check questions
                            sanityCheckDiv.style.display = 'block';

                            // Show the overall comparison question
                            // overallComparisonDiv.style.display = 'block';


                        });
                    });
                }
            });
        }

    </script>

</body>

</html>