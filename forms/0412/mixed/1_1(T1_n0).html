<!doctype html>
<html>

<head>
    <title>Debate Pairwise Comparison</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/css/bootstrap.min.css"
        integrity="sha384-VCmXjywReHh4PwowAiWNagnWcLhlEJLA5buUprzK8rxFgeH0kww/aWY76TfkUoSX" crossorigin="anonymous">
    <link rel="stylesheet" href="/debate-evaluation/assets/css/base.css">
    
</head>

<body>
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            
    <div class="container">
        <h1 class="text-center mb-4">Debate Output Comparison</h1>
        <hr class="my-4">

        <div class="mb-4">
            <p class="lead">You'll be comparing two different debate outputs side by side. Please evaluate both versions and provide ratings for each.</p>
        </div>

        <div class="mb-4">
            <h4>What to Expect:</h4>
            <ul class="list-group">
                <li class="list-group-item">Listen to a debate divided into Opening (4 min per side), Rebuttal (4 min per side), and Closing stages (2 min per side).</li>
                <li class="list-group-item">Share your initial opinion before listening.</li>
                <li class="list-group-item">Evaluate how each side performs during the debate.</li>
                <li class="list-group-item">Cast your final vote after listening.</li>
                <li class="list-group-item">The process will take about 1 hours and a $30 Amazon Gift Card will be sent as a gift for your participation.</li>
            </ul>
        </div>

        <div class="mb-4">
            <h4>How to Vote:</h4>
            <ul class="list-group">
                <li class="list-group-item"><strong>Support "For" Side</strong> - If you agree with the motion</li>
                <li class="list-group-item"><strong>Support "Against" Side</strong> - If you disagree with the motion</li>
                <li class="list-group-item"><strong>Choose "Tie"</strong> - If you do not have a preference</li>
            </ul>
        </div>

        <div class="mb-4">
            <h4>Rating Guide:</h4>
            <div class="card-group">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Poor (1)</h5>
                        <p class="card-text" style="font-size: 16px;">Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Weak (2)</h5>
                        <p class="card-text" style="font-size: 16px;">Reasonable statements with at least one noticeable weakness.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Moderate (3)</h5>
                        <p class="card-text" style="font-size: 16px;">Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Strong (4)</h5>
                        <p class="card-text" style="font-size: 16px;">Reasonable statements with at least one impressive shining point.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Compelling (5)</h5>
                        <p class="card-text" style="font-size: 16px;">Powerful evidence with effective counterpoints and deep audience connection.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

        </div>
    </div>

    


    <div class="container" id="form_container">
        <form id="theForm" action="https://script.google.com/macros/s/AKfycby4yVMejSjiW8bSUyODIY8lvW6Sf-UWqudpjHpQULUfFSqTvOsVIshdepIndj3vbOJq0w/exec" method="POST" onsubmit="return preventRepeatedSubmission() && checkAllRadioGroupsChecked() && confirmSubmission() && addTimestamp();;">
        <input type="hidden" name="timestamp" id="timestamp">
            <div class="form-group">
                <label for="name">Name / Prolific ID (for Prolific Participants) <sup>*</sup>  </label>
                <input class="form-control" type="text" inputmode="text" name="name" required>
            </div>
            <div class="form-group">
                <label for="mail">Email / Prolific Email (for Prolific Participants) <sup>*</sup> </label>
                <input class="form-control" type="text" inputmode="email" placeholder="account@example.com" name="mail" required>
            </div>
            <small class="form-text text-muted">* indicate required question</small>

            <br>
            <div id="motion" name="motion"><h4>Motion: We Should Abolish The Debt Ceiling </h4></div>
            <br>
            
            
    <input type="hidden" id="mode" name="mode" value="mixed">
    <input type="hidden" id="version" name="version" value="0412">

    
        <div class="card form-group question" id="question_1">
            <div class="card-header"><b>Question 1: Pre-Vote Stage</b></div>
            <div class="card-body">
                

                <!-- Overall Comparison Question -->
                <div class="form-group">
                    <label for="q1" style="font-weight: bold; font-size: 1.1em;">
                        Please choose your attitude towards the given motion before the debate begins.<sup>*</sup>
                    </label>
                    <div class="row align-items-center">
                        <div class="col-10 offset-1">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q1_against_2" name="q1" value="-2">
                                <label class="form-check-label" for="q1_against">Highly Against</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q1_against_1" name="q1" value="-1">
                                <label class="form-check-label" for="q1_tie">Slightly Against</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q1_tie" name="q1" value="0">
                                <label class="form-check-label" for="q1_tie">Neutral</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q1_for_1" name="q1" value="1">
                                <label class="form-check-label" for="q1_tie">Slightly Support</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q1_for_2" name="q1" value="2">
                                <label class="form-check-label" for="q1_for">Highly Support</label>
                            </div>
                        </div>
                    </div>
                </div>
            
            </div>
            <div class="card-footer">
                <b>End of Pre-Vote Stage Comparison</b>
            </div>
        </div>
    
        <div class="card form-group question" id="question_2">
            <div class="card-header"><b>Question 2: Opening Stage</b></div>
            <div class="card-body">
                
                <div class="side-container">
                    
                        <div class="row">
                            <!-- Left Side (Output A) -->
                            <div class="col-6 border-right">
                                <!-- Audio Player -->
                                
                                <h5 class="text-center mb-3">Output A - <strong>For</strong> Side</h5>
                                    <div class="audio-section mb-4">
                                        <div class="audio-player mb-3">
                                            <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0412/case1_1/opening_for_a.mp3" class="w-100" id="audio_a_1_For">
                                                Your browser does not support the audio element.
                                            </audio>
                                        </div>

                                        <!-- Transcript -->
                                        <details class="transcript-details mb-3">
                                            <summary class="transcript-summary p-2 bg-light rounded">
                                                <i class="fas fa-file-alt mr-2"></i>
                                                (Optional) <strong>For</strong> - Transcript A
                                            </summary>
                                            <div class="transcript-content p-3 bg-white border rounded mt-2">In this debate, we shall argue that the debt ceiling, defined as the total amount of money the United States government is authorized to borrow to meet its existing legal obligations , should be abolished.<br><br>Our judging criteria is economic stability and predictability. We believe policies that minimize economic disruptions and promote consistent government operations are superior. Abolishing the debt ceiling directly promotes this standard by eliminating the recurring threat of default and the associated economic uncertainty that harms businesses and consumers .<br><br>First, abolishing the debt ceiling prevents manufactured economic crises. The debt ceiling is not a tool for fiscal discipline but a mechanism for political brinkmanship. It creates artificial economic crises by threatening default on existing obligations. As the Committee for a Responsible Federal Budget notes, brinkmanship around the debt ceiling raises borrowing costs and threatens economic stability . Failing to increase the debt limit would have catastrophic economic consequences, causing the government to default on its legal obligations, precipitating another financial crisis and threatening the jobs and savings of everyday Americans . Removing this self-inflicted wound on the economy promotes stability and predictability.<br><br>Second, abolishing the debt ceiling streamlines fiscal responsibility. The debt ceiling is a redundant mechanism . Congress already approves spending and taxation policies. The debt ceiling merely dictates whether the government can pay for the spending it has already authorized. The Government Accountability Office  recommends that Congress consider immediately replacing it with an approach that links debt decisions to spending and revenue decisions at the time they are made . Abolishing it streamlines fiscal responsibility by aligning spending decisions with the means to finance them, promoting a more transparent and efficient fiscal process.<br><br>Third, abolishing the debt ceiling enhances U.S. credibility in the global economy. The debt ceiling debates erode international confidence in the U.S. economy and its ability to meet its obligations . Eliminating the debt ceiling would send a message of stability and fiscal responsibility to global markets, strengthening the dollar and attracting foreign investment. As noted by multiple sources, the debt ceiling causes economic uncertainty and potentially raises interest rates . By removing this uncertainty, the U.S. signals its commitment to honoring its financial commitments.<br><br>In conclusion, abolishing the debt ceiling is essential for preventing manufactured economic crises, streamlining fiscal responsibility, and enhancing U.S. credibility. For these reasons, we strongly advocate for the abolition of the debt ceiling to foster economic stability and predictability.<br><br>**Reference**<br>(1) Amadeo, K. (2023, January 19). Debt Ceiling: Definition, History, and How It Works. Investopedia. Retrieved from https://www.investopedia.com/terms/d/debt-ceiling.asp<br>(2) NPR Staff. (2023, January 21). An economist's case for abolishing the debt ceiling. NPR. Retrieved from https://www.npr.org/2023/01/21/1150605281/an-economists-case-for-abolishing-the-debt-ceiling<br>(3) Gale, W. G. (2023, February 8). Why Congress needs to abolish the debt limit: Testimony before the House Budget Committee. Brookings. Retrieved from https://www.brookings.edu/articles/why-congress-needs-to-abolish-the-debt-limit-testimony-before-the-house-budget-committee/<br>(4) The Committee for a Responsible Federal Budget. (n.d.). Q&A: Everything You Should Know About The Debt Ceiling. Retrieved from https://www.crfb.org/papers/qa-everything-you-should-know-about-debt-ceiling<br>(5) U.S. Department of the Treasury. (n.d.). Debt Limit. Retrieved from https://home.treasury.gov/policy-issues/financial-markets-financial-institutions-and-fiscal-service/debt-limit<br>(6) Government Accountability Office. (n.d.). Debt Limit: Comprehensive Analysis of Legal, Economic, and Budgetary Issues. Retrieved from https://www.gao.gov/products/gao-25-107089
                                            </div>
                                        </details>

                                        <!-- Rating Section -->
                                        <div class="form-group">
                                        <label for="q2_1_a">
                                            How persuasive is <strong>Output A</strong> in supporting <strong>For</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                                        </label>
                                        <div class="row align-items-center">
                                            <div class="col-10 offset-1">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_1_a_poor" name="q2_1_a" value="1">
                                                    <label class="form-check-label" for="q2_1_a_poor">
                                                        <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_1_a_weak" name="q2_1_a" value="2">
                                                    <label class="form-check-label" for="q2_1_a_weak">
                                                        <strong>Weak</strong>: Reasonable statements with at least one noticeable weakness. 
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_1_a_moderate" name="q2_1_a" value="3">
                                                    <label class="form-check-label" for="q2_1_a_moderate">
                                                        <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_1_a_strong" name="q2_1_a" value="4">
                                                    <label class="form-check-label" for="q2_1_a_strong">
                                                        <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_1_a_compelling" name="q2_1_a" value="5">
                                                    <label class="form-check-label" for="q2_1_a_compelling">
                                                        <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Comment Section -->
                                    <div class="form-group mt-3 mb-4">
                                        <label for="q2_1_comment_a"> (Optional) Additional comments for <strong> Output A's For </strong> side:</label>
                                        <textarea class="form-control" id="q2_1_comment_a" name="q2_1_comment_a" rows="2"></textarea>
                                    </div>
                                    </div>
                                    
                                
                            </div>

                            <!-- Right Side (Output B) -->
                            <div class="col-6">
                                <!-- Audio Player -->
                                <h5 class="text-center mb-3">Output B - <strong>For</strong> Side </h5>
                                    <div class="audio-section mb-4">
                                        <div class="audio-player mb-3">
                                            <audio controls src="https://debaterecords.s3.amazonaws.com/audio_0412/case1_1/opening_for_b.mp3" class="w-100" id="audio_b_1_For">
                                                Your browser does not support the audio element.
                                            </audio>
                                        </div>

                                        <!-- Transcript -->
                                        <details class="transcript-details mb-3">
                                            <summary class="transcript-summary p-2 bg-light rounded">
                                                <i class="fas fa-file-alt mr-2"></i>
                                                (Optional) <strong>For</strong> Transcript B
                                            </summary>
                                            <div class="transcript-content p-3 bg-white border rounded mt-2">Imagine a household that approves a budget but then refuses to pay the bills. The debt ceiling is like that refusal, causing unnecessary financial stress and potential damage. Today, we stand firm that the United States should abolish the debt ceiling. To clarify, the debt ceiling is a legislative limit on the amount of national debt the Treasury can issue. It does *not* authorize new spending; rather, it allows the government to pay for obligations Congress has *already* approved.<br><br>Our judging criteria are simple: which side promotes greater economic stability and social welfare? We contend that abolishing the debt ceiling achieves both.<br><br>First, abolishing the debt ceiling reduces economic uncertainty by preventing artificial crises. The debt ceiling creates manufactured fiscal cliffs, disrupting markets and hindering investment. When the debt ceiling nears, political brinkmanship often ensues, unnerving investors and businesses. According to Moody's Analytics, a prolonged breach of the debt ceiling would spark a recession, kill 7 million jobs, spike the unemployment rate to almost 9 percent, erase trillions in household wealth and retirement savings, and shrink the U.S. economy by over 4 percent . Removing the debt ceiling will foster stability and encourage long-term economic growth.<br><br>Second, the debt ceiling disproportionately harms vulnerable populations by threatening social safety nets. Imagine seniors unsure if they will receive their Social Security checks on time, or families facing potential cuts to vital healthcare services. These are the human costs of debt ceiling brinkmanship. Debt ceiling crises often lead to calls for spending cuts. When the debt ceiling becomes a political tool, programs like Social Security and Medicare are held hostage. All Home CEO and Founder Tomiquia Moss stated that the debt ceiling agreement will likely reduce vital food assistance and housing support for more than 100,000 Californians . This creates immense anxiety for millions of Americans who rely on these vital services.<br><br>Third, the debt ceiling is a redundant mechanism because Congress already exercises control over federal spending. It is unnecessary and a potentially harmful political tool. Congress *already* approves all spending through the budget process. The debt ceiling simply limits the Treasury's ability to pay for those authorized expenditures. It's like approving a purchase but then refusing to pay the bill. The Republican tax cuts of 2017 raised the deficit by an estimated $1 trillion over the next decade, despite promises that the cuts would pay for themselves . This demonstrates how the debt ceiling has been used as a political bargaining chip. Throughout history, other developed nations, like Canada and Australia, have managed their finances without a debt ceiling, demonstrating its dispensability.<br><br>The 2011 debt ceiling crisis led to a credit downgrade of U.S. debt by Standard & Poor’s . The Budget Control Act  enacted in 2011 in response to the crisis included $917 billion in direct spending reductions over 10 years .<br><br>In conclusion, the debt ceiling is a dangerous and unnecessary relic. By abolishing it, we can promote economic stability, protect vulnerable populations, and streamline our government's financial processes. Contact your representatives and urge them to co-sponsor legislation to permanently abolish the debt ceiling. Tell them that the time for artificial crises and potential economic instability is over. We urge you to consider the evidence and vote in favor of abolishing the debt ceiling for a stronger and more secure future.<br><br>**Reference**<br>[1] Debt Ceiling Explainer | House Budget Committee Democrats. Published Time: 2025-01-17T12:29:37-05:00<br>[2] All Home All Home Statement: Debt ceiling agreement comes at the expense of low-income Americans Posted June 5, 2023<br>[3] 'Debt roulette' is an important political bargaining chip, finance expert says By Patrick Ercolano<br>[4] 2011 U.S. Debt Ceiling Crisis: Meaning and Outcome - Investopedia<br>[5] Reflecting on the Budget Control Act of 2011 and Its Relevance Now | Baker Institute
                                            </div>
                                        </details>

                                        <!-- Rating Section -->
                                        <div class="form-group">
                                        <label for="q2_1_b">
                                            How persuasive is <strong>Output B</strong> in supporting <strong>For</strong> side? Rate the performance based on the following principle. <sup>*</sup>
                                        </label>
                                        <div class="row align-items-center">
                                            <div class="col-10 offset-1">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_1_b_poor" name="q2_1_b" value="1">
                                                    <label class="form-check-label" for="q2_1_b_poor">
                                                        <strong>Poor</strong>: Limited evidence with poor organization or fundamental logic flaws. Disengage with no audience awareness. 
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_1_b_weak" name="q2_1_b" value="2">
                                                    <label class="form-check-label" for="q2_1_b_weak">
                                                        <strong>Weak</strong>: Reasonable statements with at least one noticeable weaknesses. 
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_1_b_moderate" name="q2_1_b" value="3">
                                                    <label class="form-check-label" for="q2_1_b_moderate">
                                                        <strong>Moderate</strong>: Reasonable statements, which provide on-topic evidence with logical flow and balanced emotional tone showing basic audience awareness
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_1_b_strong" name="q2_1_b" value="4">
                                                    <label class="form-check-label" for="q2_1_b_strong">
                                                        <strong>Strong</strong>: Reasonable statements with at least one impressive shining points. 
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" id="q2_1_b_compelling" name="q2_1_b" value="5">
                                                    <label class="form-check-label" for="q2_1_b_compelling">
                                                        <strong>Compelling</strong>: Powerful evidence with effective counterpoints and create deep connection with audience.
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Comment Section -->
                                    <div class="form-group mt-3 mb-4">
                                        <label for="q2_1_comment_b"> (Optional) Additional comments for <strong> Output B's For </strong> side:</label>
                                        <textarea class="form-control" id="q2_1_comment_b" name="q2_1_comment_b" rows="2"></textarea>
                                    </div>
                                    </div>
                                    
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group">
                                <label for="q2" style="font-weight: bold; font-size: 1.1em;" class="col-12 offset-4">
                                    Which output do you find more effective overall?<sup>*</sup>
                                </label>
                                <div class="row justify-content-center">
                                    <div class="col-12 offset-8">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="q2_1" value="-1" id="q2_1_slightly_a">
                                            <label class="form-check-label" for="q2_1_a"> Prefer Output A</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="q2_1" value="0" id="q2_1_equal">
                                            <label class="form-check-label" for="q2_1_equal">Both outputs are equally effective</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="q2_1" value="1" id="q2_1_slightly_b">
                                            <label class="form-check-label" for="q2_1_b">Prefer Output B</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    
                </div>

                    

                    <hr class="my-4">
                

                <!-- Overall Comparison Question -->
                <div class="form-group">
                    <label for="q2" style="font-weight: bold; font-size: 1.1em;">
                        After listening to the two statements in Opening stage, please choose your attitude towards the given motion (We Should Abolish The Debt Ceiling) now<sup>*</sup>
                    </label>
                    <div class="row align-items-center">
                        <div class="col-10 offset-1">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q2_against_2" name="q2" value="-2">
                                <label class="form-check-label" for="q2_against">Highly Against</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q2_against_1" name="q2" value="-1">
                                <label class="form-check-label" for="q2_tie">Slightly Against</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q2_tie" name="q2" value="0">
                                <label class="form-check-label" for="q2_tie">Neutral</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q2_for_1" name="q2" value="1">
                                <label class="form-check-label" for="q2_tie">Slightly Support</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="q2_for_2" name="q2" value="2">
                                <label class="form-check-label" for="q2_for">Highly Support</label>
                            </div>
                        </div>
                    </div>
                </div>
            
            </div>
            <div class="card-footer">
                <b>End of Opening Stage Comparison</b>
            </div>
        </div>
    

    <!-- Additional Questions -->
    
        <div class="card form-group question" id="question_3">
            <div class="card-header">
                <b>(Optional) Question 5: Which factors were most crucial in your assessment?</b>
            </div>
            <div class="card-body">
                
                    <div class="form-group">
                        <label for="q5"></label>
                        <textarea class="form-control" name="q5" rows="3"></textarea>
                    </div>
                
            </div>
            <div class="card-footer">
                <b>Additional Question 1 / 2</b>
            </div>
        </div>
    
        <div class="card form-group question" id="question_4">
            <div class="card-header">
                <b>(Optional) Question 6: How long did you spend on this evaluation?</b>
            </div>
            <div class="card-body">
                
                    <div class="form-group">
                        <label for="q6"></label>
                        <textarea class="form-control" name="q6" rows="3"></textarea>
                    </div>
                
            </div>
            <div class="card-footer">
                <b>Additional Question 2 / 2</b>
            </div>
        </div>
    
    <button id="previousPageButton" class="btn btn-secondary btn-lg" type="button">Previous Question</button>
    <button id="nextPageButton" class="btn btn-primary btn-lg" type="button">Next Question</button>

            <input type="text" name="formid" value="1_1(T1_n0)" hidden>
            <input type="text" name="thank" value="Thanks" hidden>
            <input class="btn btn-info btn-lg" type="submit" value="Submit Results" id="submitBtn">
            <p class="text-muted">
                <small>If you find that you can't submit the results, please check back to see if you have filled in your name and if you have answered every required question with <sup>*</sup>. Thank you.</small>
            </p>
        </form>
    </div>

    <div class="container" style="padding-top: 60px;">
        <p class="text-center text-muted">&copy; CMU Debate Team</p>
    </div>

    <!-- Replace the jQuery slim version with the full version -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" 
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" 
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/js/bootstrap.min.js" 
        integrity="sha384-XEerZL0cuoUbHE4nZReLT7nx9gQrQreJekYhJD9WNWhH8nEW+0c5qq7aIo2Wl30J" 
        crossorigin="anonymous"></script>

    <script type="text/javascript">
        window.addEventListener('beforeunload', function (e) {
            if (!document.getElementById('submitBtn').disabled) {
                // Cancel the event
                e.preventDefault();
                // Chrome requires returnValue to be set
                e.returnValue = '';
            }
        });

        function confirmSubmission() {
            return confirm('Are you sure you want to submit your results?');
        }

        function preventRepeatedSubmission() {
            document.getElementById('submitBtn').disabled = true;
            setTimeout("submitBtn.disabled=false;", 50);
            return true;
        };
        function addTimestamp() {
            // Get current timestamp in milliseconds
            const currentTimestamp = Date.now();
            const dateObject = new Date(currentTimestamp);
            const readableTimestamp = dateObject.toISOString().replace("T", " ").substring(0, 19);

            // Set the value of the hidden input field to the current timestamp
            document.getElementById("timestamp").value = readableTimestamp;
            return true;
        }
        function checkAllRadioGroupsChecked() {
            const radioGroups = document.querySelectorAll('.form-check-input[type="radio"]');
            const radioNames = new Set();
            radioGroups.forEach(input => radioNames.add(input.name));
            for (let name of radioNames) {
                const group = document.querySelectorAll(`input[name="${name}"]`);
                const isChecked = Array.from(group).some(input => input.checked);
                if (!isChecked) {
                    alert('Please ensure you have voted for all required questions by selecting an option in each group. You can use `Previous Question` to check your answers.');
                    return false;
                }
            }
            return true;
        }
    </script>

    
    <script>

        // Call this function when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            setupAudioSideNavigation();
        });

        let currentQuestionIndex = 0;
        const questions = document.querySelectorAll('.question');
        const nextPageButton = document.getElementById('nextPageButton');

        function showQuestion(index) {
            questions.forEach((question, i) => {
                question.style.display = i <= index ? 'block' : 'none';
            });
        }

        const audios = document.querySelectorAll('audio');
        audios.forEach((function(audioElement) {
            audioElement.dataset.played = "false"; // Initial state

            audioElement.addEventListener('ended', function() {
                console.log('Audio has played:', this.src);
                this.dataset.played = "true"; // Mark as played
            });
        }));

        nextPageButton.addEventListener('click', function() {
            // Get all currently visible questions
            const currentQuestions = document.querySelectorAll('.question[style*="display: block"]');
            
            let allValidAudio = true;
            let allValidQuestion = true;
            let invalidAudios = [];
            let invalidQuestions = [];

            // Check each visible question
            currentQuestions.forEach(currentQuestion => {
                // Check if all audios have been played
                const currentaudio = currentQuestion.querySelectorAll('audio');
                currentaudio.forEach(audioElement => {
                    if (audioElement.dataset.played === "false") {
                        allValidAudio = false;
                        const audioLabel = audioElement.closest(".audio") ? 
                            audioElement.closest(".audio").querySelector('.audio-side').innerText :
                            audioElement.id;
                        invalidAudios.push(audioLabel + ' (Audio not played to the end)');
                    }
                });

                // check all questions have been answered
                const radioGroups = currentQuestion.querySelectorAll('.form-check-input[type="radio"]');
                const radioNames = new Set();
                radioGroups.forEach(input => radioNames.add(input.name));
                radioNames.forEach(name => {
                    const group = currentQuestion.querySelectorAll(`input[name="${name}"]`);
                    const isChecked = Array.from(group).some(input => input.checked);
                    if (!isChecked) {
                        allValidQuestion = false;
                        const questionLabel = group[0].closest('.form-group').querySelector('label').innerText;
                        invalidQuestions.push(questionLabel);
                    }
                });
            });
            

            if (!allValidAudio) {
                alert('Please listen to the following audio before voting (for both sides). \n => ' + invalidAudios.join('\n => '));
            } else if (!allValidQuestion) {
                alert('Please vote for the following questions (for both sides). You need to choose one most suitable option. \n => ' + invalidQuestions.join('\n => '));
            } else {
                if (currentQuestionIndex < questions.length - 1) {
                    currentQuestionIndex++;
                    showQuestion(currentQuestionIndex);
                    /* document.getElementById('form_container').scrollIntoView({ behavior: 'smooth' }); */
                } else {
                    alert('You have completed all questions. Remember to click "Submit Results" to upload the results. If success, it will show "Thanks" after submission.');
                }
            }
        });

        previousPageButton.addEventListener('click', function() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            } else {
                alert('This is the first question.');
            }
        });

        // Initialize the first question
        showQuestion(currentQuestionIndex);

        // Add a function to handle navigation between audio sides
        function setupAudioSideNavigation() {            
            // Add "Other Side" button after each question's navigation
            questions.forEach(question => {
                const audioContainers = question.querySelectorAll('.side-container');
                if (audioContainers.length > 1) {                
                    // Initially show only the first audio
                    audioContainers.forEach((container, index) => {
                        if (index === 0) {
                            container.style.display = 'block';
                        } else {
                            container.style.display = 'none';
                        }
                    });
                    
                    // Set up the click handler for the Other Side button
                    let currentAudioIndex = 0;
                    const otherSideBtn = question.querySelectorAll('.button-next-side');
                    otherSideBtn.forEach(button => {
                        button.addEventListener('click', function() {
                            currentAudioIndex = (currentAudioIndex + 1) % audioContainers.length;
                            
                            // Show the next audio
                            audioContainers[currentAudioIndex].style.display = 'block';
                            button.style.display = 'none';
                        });
                    });
                }
            });
        }

    </script>

</body>

</html>