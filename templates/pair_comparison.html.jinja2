{% extends "base.html.jinja2" %}
{% block heading %}
    <h1 class="display-4">Debate Pairwise Comparison</h1>
    <p class="lead">Determine which side wins the debate game. </p>
    <hr class="my-4">
    <p>
        Thanks for participating!
    </p>
    <p>
        You'll review a recorded 20-minute debate between two debaters (humans or AI debaters) and evaluate the performance of each side. 
        You will be asked to complete a questionnaire, which includes your vote before and after the debate process on a predetermined topic. 
        There are three stages (openining, rebuttal, and closing) in the debate process. You need to compare the performance of each side in each stage.
        Finally, you will rate the performance of each side in the entire debate process and provide some optional feedback.
    </p>
    <p>
        <strong>Instructions:</strong>
        <ul>
            <li>For: for side win the game </li>
            <li>Against: against side win the game </li>
            <li>Tie: Two sides have similar performance  </li>
        </ul>
    </p>
{% endblock %}
{% block form_questions %}
    <input type="hidden" id="mode" name="mode" value="pair" >
    <input type="hidden" id="mode" name="version" value="{{ version }}" >

    {% for question in questions %}
        <div class="card form-group">
            <div class="card-header"><b>{{ question.title }}</b></div>
            <div class="card-body">
                {% for audio_path in question.audio_paths %}
                    <p> <strong> {{ audio_path[0] }} </strong> </p>
                    <p>
                        <audio controls src="{{ audio_path[1] }}">
                            Your browser does not support the audio element.
                        </audio>
                    </p>
                {% endfor %}
                {% if question.transcript_for %}
                <details class="collapsible-block">
                    <summary class="collapsible-content"> (Optional) For - Transcript </summary>
                    <div>
                        {{ question.transcript_for }}
                    </div>
                </details>
                {% endif %}
                {% if question.transcript_against %}
                <details class="collapsible-block">
                    <summary class="collapsible-content"> (Optional) Against - Transcript </summary>
                    <div>
                        {{ question.transcript_against }}
                    </div>
                </details>
                <br>
                {% endif %}
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="{{ question.name }}" id="{{ question.name }}_1" value="1" required>
                    <label class="form-check-label" for="{{ question.name }}_1">For win</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="{{ question.name }}" id="{{ question.name }}_2" value="2" required>
                    <label class="form-check-label" for="{{ question.name }}_2">Against win</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="{{ question.name }}" id="{{ question.name }}_3" value="3" required>
                    <label class="form-check-label" for="{{ question.name }}_3">Tie</label>
                </div>
            </div>
        </div>
    {% endfor %}

    {% for question in addition_questions %}
        <div class="card form-group">
            <div class="card-header"><b>{{ question.title }}</b></div>
            <div class="card-body">
                {% if question.type == 'checkbox'  %}
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="{{ question.name }}" id="{{ question.name }}_1" value="1" required>
                        <label class="form-check-label" for="{{ question.name }}_1">For win</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="{{ question.name }}" id="{{ question.name }}_2" value="2" required>
                        <label class="form-check-label" for="{{ question.name }}_2">Against win</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="{{ question.name }}" id="{{ question.name }}_3" value="3" required>
                        <label class="form-check-label" for="{{ question.name }}_3">Tie</label>
                    </div>
                {% else %}
                    <div class="form-group">
                        <label for="{{ question.name }}"></label>
                        <input class="form-control" type="text" inputmode="text" name="{{ question.name }}">
                    </div>
                {% endif %}
            </div>
        </div>
    {% endfor %}
{% endblock %}